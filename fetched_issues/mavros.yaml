- url: 'https://github.com/mavlink/mavros/issues/1236'
  title: 'error   roslaunch mavros apm2.launch  '
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\n\r\n_Please describe the problem, or desired feature_\r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: ?0.18.4?\r\nROS: ?Kinetic?\r\nUbuntu: ?16.04?\r\n\r\n\r\n### Autopilot type and version\r\n\r\n[  ] ArduPilot\r\n[  ] PX4\r\n\r\nVersion: ?3.7.1?\r\n\r\n\r\n### Node logs\r\n\r\n```\r\ncopy output of mavros_node. Usually console where you run roslaunch\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\nplace here result of:\r\nrostopic echo -n1 /diagnostics\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nrosrun mavros checkid\r\n```\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - APM
    - bug
    - duplicate
- url: 'https://github.com/mavlink/mavros/issues/1235'
  title: Source installation failed
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\n\r\nhttps://github.com/mavlink/mavros/blob/master/mavros/README.md#installation\r\nFollow the tutorial in the link above, Source installation，error。\r\n\r\nSolve the dependencies I use the following commands：\r\n    rosdep install -y --from-paths src --ignore-src --rosdistro kinetic -r --os=debian:stretch\r\n\r\nInstall GeographicLib datasets，i use，\r\n    sudo ./src/mavros/mavros/scripts/install_geographiclib_datasets.sh\r\n```\r\npi@raspberrypi:~/src/catkin_ws $ ./src/mavros/mavros/scripts/install_geographiclib_datasets.sh \r\nThis script require root privileges!\r\n```\r\nROS I installed according to the following website：\r\n  http://wiki.ros.org/ROSberryPi/Installing%20ROS%20Kinetic%20on%20the%20Raspberry%20Pi\r\n### MAVROS version and platform\r\n\r\nMavros: 0.28.0\r\nROS: Kinetic\r\nRaspbian:stretch\r\n\r\n### Node logs\r\n\r\n```\r\npi@raspberrypi:~/src/catkin_ws $ catkin build\r\n-----------------------------------------------------------\r\nProfile:                     default\r\nExtending:          [cached] /opt/ros/kinetic\r\nWorkspace:                   /home/pi/src/catkin_ws\r\n-----------------------------------------------------------\r\nBuild Space:        [exists] /home/pi/src/catkin_ws/build\r\nDevel Space:        [exists] /home/pi/src/catkin_ws/devel\r\nInstall Space:      [unused] /home/pi/src/catkin_ws/install\r\nLog Space:          [exists] /home/pi/src/catkin_ws/logs\r\nSource Space:       [exists] /home/pi/src/catkin_ws/src\r\nDESTDIR:            [unused] None\r\n-----------------------------------------------------------\r\nDevel Space Layout:          linked\r\nInstall Space Layout:        None\r\n-----------------------------------------------------------\r\nAdditional CMake Args:       None\r\nAdditional Make Args:        None\r\nAdditional catkin Make Args: None\r\nInternal Make Job Server:    True\r\nCache Job Environments:      False\r\n-----------------------------------------------------------\r\nWhitelisted Packages:        None\r\nBlacklisted Packages:        None\r\n-----------------------------------------------------------\r\nWorkspace configuration appears valid.\r\n-----------------------------------------------------------\r\n[build] Found '6' packages in 0.0 seconds.                                     \r\n[build] Package table is up to date.                                           \r\nStarting  >>> mavlink                                                          \r\nStarting  >>> mavros_msgs                                                      \r\n_______________________________________________________________________________\r\nErrors     << mavros_msgs:cmake /home/pi/src/catkin_ws/logs/mavros_msgs/build.cmake.006.log\r\nCMake Warning at /opt/ros/kinetic/share/catkin/cmake/catkinConfig.cmake:76 (find_package):\r\n  Could not find a package configuration file provided by \"geographic_msgs\"\r\n  with any of the following names:\r\n\r\n    geographic_msgsConfig.cmake\r\n    geographic_msgs-config.cmake\r\n\r\n  Add the installation prefix of \"geographic_msgs\" to CMAKE_PREFIX_PATH or\r\n  set \"geographic_msgs_DIR\" to a directory containing one of the above files.\r\n  If \"geographic_msgs\" provides a separate development package or SDK, be\r\n  sure it has been installed.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:4 (find_package)\r\n\r\n\r\nCMake Error at /opt/ros/kinetic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):\r\n  Could not find a package configuration file provided by \"geographic_msgs\"\r\n  with any of the following names:\r\n\r\n    geographic_msgsConfig.cmake\r\n    geographic_msgs-config.cmake\r\n\r\n  Add the installation prefix of \"geographic_msgs\" to CMAKE_PREFIX_PATH or\r\n  set \"geographic_msgs_DIR\" to a directory containing one of the above files.\r\n  If \"geographic_msgs\" provides a separate development package or SDK, be\r\n  sure it has been installed.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:4 (find_package)\r\n\r\n\r\ncd /home/pi/src/catkin_ws/build/mavros_msgs; catkin build --get-env mavros_msgs | catkin env -si  /usr/bin/cmake /home/pi/src/catkin_ws/src/mavros/mavros_msgs --no-warn-unused-cli -DCATKIN_DEVEL_PREFIX=/home/pi/src/catkin_ws/devel/.private/mavros_msgs -DCMAKE_INSTALL_PREFIX=/home/pi/src/catkin_ws/install; cd -\r\n...............................................................................\r\nFailed     << mavros_msgs:cmake            [ Exited with code 1 ]              \r\nFailed    <<< mavros_msgs                  [ 3.3 seconds ]                     \r\nAbandoned <<< libmavconn                   [ Unrelated job failed ]            \r\nAbandoned <<< mavros                       [ Unrelated job failed ]            \r\nAbandoned <<< mavros_extras                [ Unrelated job failed ]            \r\nAbandoned <<< test_mavros                  [ Unrelated job failed ]            \r\nFinished  <<< mavlink                      [ 4.5 seconds ]                     \r\n[build] Summary: 1 of 6 packages succeeded.                                    \r\n[build]   Ignored:   None.                                                     \r\n[build]   Warnings:  None.                                                     \r\n[build]   Abandoned: 4 packages were abandoned.                                \r\n[build]   Failed:    1 packages failed.                                        \r\n[build] Runtime: 5.4 seconds total.          \r\n```\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - build error
    - question
- url: 'https://github.com/mavlink/mavros/issues/1234'
  title: Report error when executing apm.launch
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\n\r\nReport error when executing apm.launch\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.28.0\r\nROS: Kinetic\r\nRaspbian: stretch\r\n\r\n\r\n### Autopilot type and version\r\n\r\nArduPilot\r\n\r\nVersion: 3.5.2\r\n\r\n\r\n### Node logs\r\n\r\n```\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ roscp mavros apm.launch apm.launch\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ ls\r\napm.launch\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ sudo chmod 666 /dev/ttyUSB0\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ roslaunch apm.launch\r\n... logging to /home/pi/.ros/log/0ded50ea-77ad-11e9-9ff3-b827eb148783/roslaunch-raspberrypi-2538.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nerror loading <rosparam> tag: \r\n\tfile /home/pi/src/catkin_ws/src/mavros/mavros/launch/apm_config.yaml contains invalid YAML:\r\nwhile parsing a block mapping\r\n  in \"<string>\", line 4, column 1:\r\n    startup_px4_usb_quirk: false\r\n    ^\r\nexpected <block end>, but found '<block mapping start>'\r\n  in \"<string>\", line 103, column 2:\r\n     setpoint_raw:\r\n     ^\r\nXML is <rosparam command=\"load\" file=\"$(arg config_yaml)\"/>\r\nThe traceback for the exception was written to the log file\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\nplace here result of:\r\nrostopic echo -n1 /diagnostics\r\n\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ rostopic echo -n1 /diagnostics\r\n\r\nERROR: Unable to communicate with master!\r\n\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nroscp mavros apm.launch apm.launch\r\n\r\nThe above command can be executed successfully.But the following command is not successful.\r\nrosrun mavros checkid\r\n\r\npi@raspberrypi:~/src/ardupilot_ws/src/launch $ rosrun mavros checkid\r\nTraceback (most recent call last):\r\n  File \"/home/pi/src/catkin_ws/src/mavros/mavros/scripts/checkid\", line 21, in <module>\r\n    import mavros\r\nImportError: No module named mavros\r\n\r\n```\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
    - duplicate
- url: 'https://github.com/mavlink/mavros/issues/1226'
  title: 'PX4 SITL/mavros CMD: Unexpected command 22, result 0'
  body: "### Issue details\r\n\r\nI use MAVROS node to translate MAVLink messages into ROS messages so I  can communicate between ROS and Gazebo through PX4. The problem is when the commander offboard control phase finishes, I receive the warning **CMD: Unexpected command 22, result 0** then the drone lands, whereas I should continue the flight based on the velocity command from my ROS node. So my question is what does this warning message mean and how it can be corrected?\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.18.4\r\nROS: Kinetic\r\nUbuntu: 16.04\r\n\r\n### Autopilot type and version\r\n\r\nPX4\r\nVersion: v1.8.2\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - PX4
    - not a bug
    - question
- url: 'https://github.com/mavlink/mavros/issues/1224'
  title: mavros/imu/data angular_velocity should be in rad/sec instead of deg/sec
  body: "### Issue details\r\nAccording to the ROS docs, the rotational velocities should be given in rad/sec, but when I access /mavros/imu/data.angular_velocity.z it is given in deg/sec\r\n\r\n### MAVROS version and platform\r\nMavros: 0.18.4\r\nROS: Kinetic\r\nUbuntu: 16.04\r\n\r\n### Autopilot type and version\r\n[  ] ArduPilot\r\n[ x ] PX4\r\n\r\nVersion: 1.8.2"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - not a bug
- url: 'https://github.com/mavlink/mavros/issues/1223'
  title: '[Bug] Eigen Assertions with PX4 master branch - Possibly ARM-related.'
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\n\r\n_When attempting to start a MAVROS node on an NVIDIA Jetson TX2, an Eigen assertion fails during initialization.  Seems specific to the TX2 (or possibly ARM-Architecture), and stems from mavros::extra_plugins::OdometryPlugin::handle_odom()_\r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: latest - ?0.28.0?\r\nROS: Kinetic\r\nUbuntu: 16.04\r\n\r\n\r\n### Autopilot type and version\r\n\r\n[  ] ArduPilot\r\n[ X ] PX4\r\n\r\nVersion: master development branch\r\n\r\n### Node logs\r\n\r\n```\r\nCheck Attached\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\nCheck Attached\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nCheck Attached\r\n```\r\n[checkid.txt](https://github.com/mavlink/mavros/files/3104372/checkid.txt)\r\n[diagnostics.txt](https://github.com/mavlink/mavros/files/3104373/diagnostics.txt)\r\n[terminal_out.txt](https://github.com/mavlink/mavros/files/3104374/terminal_out.txt)\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - PX4
    - bug
    - extras
- url: 'https://github.com/mavlink/mavros/issues/1220'
  title: has_local_position_ned_cov variable is not set during intialization
  body: "Variable https://github.com/mavlink/mavros/blob/e0e0b3792674dc9773c0781ea95f36d2989d38af/mavros/src/plugins/local_position.cpp#L90 is never initialized to false. As a result, if the mavlink message `mavlink::common::msg::LOCAL_POSITION_NED_COV` is not coming, the local position is not published due to the check in https://github.com/mavlink/mavros/blob/e0e0b3792674dc9773c0781ea95f36d2989d38af/mavros/src/plugins/local_position.cpp#L133\r\nThe same problem could concern the variable https://github.com/mavlink/mavros/blob/e0e0b3792674dc9773c0781ea95f36d2989d38af/mavros/src/plugins/local_position.cpp#L89 which is not initialized either."
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
    - plugin
- url: 'https://github.com/mavlink/mavros/issues/1210'
  title: pyyaml fails to parse YAML files
  body: "On PX4 SITL launch using roslaunch, pyyaml fails to parse the px4_config.yaml file.\r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.29.2\r\nROS: Melodic\r\nUbuntu: 18.04.2\r\n\r\n### Autopilot type and version\r\n\r\n[  ] ArduPilot\r\n[X] PX4\r\n\r\nVersion: 99fb88ce839879e35f86c199f7dc50fa361f85e4\r\n\r\n### Diagnostics\r\n\r\n```\r\nroslaunch px4 multi_uav_mavros_sitl.launch\r\n... logging to /home/julianoes/.ros/log/20d6678a-55f9-11e9-a624-080027ca140c/roslaunch-ubuntu1804-vbox-1823.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nxacro: in-order processing became default in ROS Melodic. You can drop the option.\r\n/opt/ros/melodic/lib/python2.7/dist-packages/roslaunch/loader.py:412: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.\r\n  data = yaml.load(text)\r\nRLException: error loading <rosparam> tag: \r\n\r\ncould not determine a constructor for the tag '!degrees'                                                                \r\n  in \"<string>\", line 63, column 27:                                                                                    \r\n      angular_velocity_stdev: !degrees 0.02                                                                             \r\n                              ^                                                                                         \r\nXML is <rosparam command=\"load\" file=\"$(arg config_yaml)\"/>                                                             \r\nThe traceback for the exception was written to the log file\r\n\r\n```\r\n\r\nThe same issue is also captured here:\r\nhttps://github.com/PX4/Firmware/issues/11662"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
- url: 'https://github.com/mavlink/mavros/pull/1198'
  title: 'gps_rtk: fix multi segment messages'
  body: >-
    Adding fragment_id in both the for loop an in the variable redundant and
    duplicated
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
    - extras
    - fix
- url: 'https://github.com/mavlink/mavros/pull/1195'
  title: 'Get topic local_position/velocity back from local_position/velocity_local '
  body: "I have realized that the topic `local_position/velocity` has been replaced by `local_position/velocity_local`. \r\nThis seems to have been triggered first by #1142 and a fix for this changed the topic name in #1160 \r\n\r\nIt took me some time to find this and fix it in a [package](https://github.com/Jaeyoung-Lim/mavros_controllers) I am using, and I believe this would be true for a lot of other packages that depend on mavros.\r\n\r\nI don't understand what is the reasoning behind the change of the topic name to `velocity_local` rather than keeping it  as `velocity` while introducing the new body frame velocity as `velocity_body`. The change is not even documented in the [mavros wiki](http://wiki.ros.org/mavros), which most people go for reference on the list of topics.\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels: []
- url: 'https://github.com/mavlink/mavros/issues/1185'
  title: >-
    Excessive CPU load (~100% over 8 threads) for APM + MAVROS inside Docker
    container
  body: "### Issue details\r\n\r\nI'm trying to run connect MAVROS to the ArduPilot's SITL from inside a Docker container (see attached for `Dockerfile`). APM runs without any problems inside the container. However, when I launch MAVROS, I observe a recurring error in the node logs, and the MAVROS consumes all available CPU resources.\r\n\r\n![hot_laptop](https://user-images.githubusercontent.com/523560/53463811-050de900-3a16-11e9-97e8-f67b0be3307c.png)\r\n\r\nInterestingly, CPU usage also appears to be fairly high when only `roscore` is running.\r\n\r\n![cpu_roscore](https://user-images.githubusercontent.com/523560/53463665-8d3fbe80-3a15-11e9-820e-91daa6e8bdb8.png)\r\n\r\n### MAVROS version and platform\r\n\r\nMAVROS: 0.29.0\r\nROS: Kinetic / Lunar (occurs on both)\r\nContainer OS: Ubuntu 16.04 / 17.04\r\nHost OS: Ubuntu 18.04 / Arch-2019.02.01 (same machine, different OS)\r\nMachine: 14\" Razer Blade, 2016.  i7-6700HQ (4c/8t), 16GB DDR4, GTX 1060.\r\n\r\n\r\n### Autopilot type and version\r\n\r\n[X] ArduPilot\r\n[  ] PX4\r\n\r\nVersion: 3.6.4 (https://github.com/ArduPilot/ardupilot/releases/tag/Copter-3.6.4)\r\n\r\n\r\n### Node logs\r\n\r\n```\r\n... logging to /root/.ros/log/9d20e3c8-3a3e-11e9-907f-0242ac110002/roslaunch-9d820d31bf83-260.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nstarted roslaunch server http://9d820d31bf83:45085/\r\n\r\nSUMMARY\r\n========\r\n\r\nCLEAR PARAMETERS\r\n * /mavros/\r\n\r\nPARAMETERS\r\n * /mavros/cmd/use_comp_id_system_control: False\r\n * /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER\r\n * /mavros/conn/heartbeat_rate: 1.0\r\n * /mavros/conn/system_time_rate: 1.0\r\n * /mavros/conn/timeout: 10.0\r\n * /mavros/conn/timesync_rate: 10.0\r\n * /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/frame_id: lidar\r\n * /mavros/distance_sensor/rangefinder_pub/id: 0\r\n * /mavros/distance_sensor/rangefinder_pub/send_tf: False\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/rangefinder_sub/id: 1\r\n * /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270\r\n * /mavros/distance_sensor/rangefinder_sub/subscriber: True\r\n * /mavros/fake_gps/eph: 2.0\r\n * /mavros/fake_gps/epv: 2.0\r\n * /mavros/fake_gps/fix_type: 3\r\n * /mavros/fake_gps/geo_origin/alt: 408.0\r\n * /mavros/fake_gps/geo_origin/lat: 47.3667\r\n * /mavros/fake_gps/geo_origin/lon: 8.55\r\n * /mavros/fake_gps/gps_rate: 5.0\r\n * /mavros/fake_gps/mocap_transform: True\r\n * /mavros/fake_gps/satellites_visible: 5\r\n * /mavros/fake_gps/tf/child_frame_id: fix\r\n * /mavros/fake_gps/tf/frame_id: map\r\n * /mavros/fake_gps/tf/listen: False\r\n * /mavros/fake_gps/tf/rate_limit: 10.0\r\n * /mavros/fake_gps/tf/send: False\r\n * /mavros/fake_gps/use_mocap: True\r\n * /mavros/fake_gps/use_vision: False\r\n * /mavros/fcu_protocol: v2.0\r\n * /mavros/fcu_url: tcp://127.0.0.1:5...\r\n * /mavros/gcs_url: \r\n * /mavros/global_position/child_frame_id: base_link\r\n * /mavros/global_position/frame_id: map\r\n * /mavros/global_position/gps_uere: 1.0\r\n * /mavros/global_position/rot_covariance: 99999.0\r\n * /mavros/global_position/tf/child_frame_id: base_link\r\n * /mavros/global_position/tf/frame_id: map\r\n * /mavros/global_position/tf/global_frame_id: earth\r\n * /mavros/global_position/tf/send: False\r\n * /mavros/global_position/use_relative_alt: True\r\n * /mavros/image/frame_id: px4flow\r\n * /mavros/imu/angular_velocity_stdev: 0.000349065850399\r\n * /mavros/imu/frame_id: base_link\r\n * /mavros/imu/linear_acceleration_stdev: 0.0003\r\n * /mavros/imu/magnetic_stdev: 0.0\r\n * /mavros/imu/orientation_stdev: 1.0\r\n * /mavros/local_position/frame_id: map\r\n * /mavros/local_position/tf/child_frame_id: base_link\r\n * /mavros/local_position/tf/frame_id: map\r\n * /mavros/local_position/tf/send: False\r\n * /mavros/local_position/tf/send_fcu: False\r\n * /mavros/mission/pull_after_gcs: True\r\n * /mavros/mocap/use_pose: True\r\n * /mavros/mocap/use_tf: False\r\n * /mavros/odometry/estimator_type: 3\r\n * /mavros/odometry/frame_tf/desired_frame: ned\r\n * /mavros/plugin_blacklist: ['actuator_contro...\r\n * /mavros/plugin_whitelist: []\r\n * /mavros/px4flow/frame_id: px4flow\r\n * /mavros/px4flow/ranger_fov: 0.118682389136\r\n * /mavros/px4flow/ranger_max_range: 5.0\r\n * /mavros/px4flow/ranger_min_range: 0.3\r\n * /mavros/safety_area/p1/x: 1.0\r\n * /mavros/safety_area/p1/y: 1.0\r\n * /mavros/safety_area/p1/z: 1.0\r\n * /mavros/safety_area/p2/x: -1.0\r\n * /mavros/safety_area/p2/y: -1.0\r\n * /mavros/safety_area/p2/z: -1.0\r\n * /mavros/setpoint_accel/send_force: False\r\n * /mavros/setpoint_attitude/reverse_thrust: False\r\n * /mavros/setpoint_attitude/tf/child_frame_id: target_attitude\r\n * /mavros/setpoint_attitude/tf/frame_id: map\r\n * /mavros/setpoint_attitude/tf/listen: False\r\n * /mavros/setpoint_attitude/tf/rate_limit: 50.0\r\n * /mavros/setpoint_attitude/use_quaternion: False\r\n * /mavros/setpoint_position/mav_frame: LOCAL_NED\r\n * /mavros/setpoint_position/tf/child_frame_id: target_position\r\n * /mavros/setpoint_position/tf/frame_id: map\r\n * /mavros/setpoint_position/tf/listen: False\r\n * /mavros/setpoint_position/tf/rate_limit: 50.0\r\n * /mavros/setpoint_velocity/mav_frame: LOCAL_NED\r\n * /mavros/startup_px4_usb_quirk: False\r\n * /mavros/sys/disable_diag: False\r\n * /mavros/sys/min_voltage: 10.0\r\n * /mavros/target_component_id: 1\r\n * /mavros/target_system_id: 1\r\n * /mavros/tdr_radio/low_rssi: 40\r\n * /mavros/time/time_ref_source: fcu\r\n * /mavros/time/timesync_avg_alpha: 0.6\r\n * /mavros/time/timesync_mode: MAVLINK\r\n * /mavros/vibration/frame_id: base_link\r\n * /mavros/vision_pose/tf/child_frame_id: vision_estimate\r\n * /mavros/vision_pose/tf/frame_id: map\r\n * /mavros/vision_pose/tf/listen: False\r\n * /mavros/vision_pose/tf/rate_limit: 10.0\r\n * /mavros/vision_speed/listen_twist: True\r\n * /mavros/vision_speed/twist_cov: True\r\n * /mavros/wheel_odometry/child_frame_id: base_link\r\n * /mavros/wheel_odometry/count: 2\r\n * /mavros/wheel_odometry/frame_id: map\r\n * /mavros/wheel_odometry/send_raw: True\r\n * /mavros/wheel_odometry/send_twist: False\r\n * /mavros/wheel_odometry/tf/child_frame_id: base_link\r\n * /mavros/wheel_odometry/tf/frame_id: map\r\n * /mavros/wheel_odometry/tf/send: True\r\n * /mavros/wheel_odometry/use_rpm: False\r\n * /mavros/wheel_odometry/vel_error: 0.1\r\n * /mavros/wheel_odometry/wheel0/radius: 0.05\r\n * /mavros/wheel_odometry/wheel0/x: 0.0\r\n * /mavros/wheel_odometry/wheel0/y: -0.15\r\n * /mavros/wheel_odometry/wheel1/radius: 0.05\r\n * /mavros/wheel_odometry/wheel1/x: 0.0\r\n * /mavros/wheel_odometry/wheel1/y: 0.15\r\n * /rosdistro: lunar\r\n * /rosversion: 1.13.7\r\n\r\nNODES\r\n  /\r\n    mavros (mavros/mavros_node)\r\n\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nprocess[mavros-1]: started with pid [278]\r\n[ INFO] [1551238038.673401191]: FCU URL: tcp://127.0.0.1:5760@5760\r\n[ INFO] [1551238038.676633756]: tcp0: Server address: 127.0.0.1:5760\r\nsetup:307: bad header in setup - erasing\r\n[ INFO] [1551238038.676971256]: GCS bridge disabled\r\nbind port 5762 for 2\r\nSerial port 2 on TCP port 5762\r\nbind port 5763 for 3\r\nSerial port 3 on TCP port 5763\r\nSmoothing reset at 0.001\r\n[ INFO] [1551238038.691776790]: Plugin 3dr_radio loaded\r\n[ INFO] [1551238038.694401517]: Plugin 3dr_radio initialized\r\n[ INFO] [1551238038.694450754]: Plugin actuator_control blacklisted\r\n[ INFO] [1551238038.698711092]: Plugin adsb loaded\r\n[ INFO] [1551238038.703476691]: Plugin adsb initialized\r\n[ INFO] [1551238038.703549727]: Plugin altitude blacklisted\r\n[ INFO] [1551238038.703852012]: Plugin cam_imu_sync loaded\r\n[ INFO] [1551238038.704992032]: Plugin cam_imu_sync initialized\r\n[ INFO] [1551238038.705247989]: Plugin command loaded\r\n[ INFO] [1551238038.713219804]: Plugin command initialized\r\n[ INFO] [1551238038.713465686]: Plugin companion_process_status loaded\r\n[ INFO] [1551238038.716864057]: Plugin companion_process_status initialized\r\n[ INFO] [1551238038.716908735]: Plugin debug_value blacklisted\r\n[ INFO] [1551238038.717170319]: Plugin distance_sensor loaded\r\n[ INFO] [1551238038.729157899]: Plugin distance_sensor initialized\r\n[ INFO] [1551238038.729485832]: Plugin fake_gps loaded\r\n[ INFO] [1551238038.748460824]: Plugin fake_gps initialized\r\n[ INFO] [1551238038.748517318]: Plugin ftp blacklisted\r\n[ INFO] [1551238038.748862769]: Plugin global_position loaded\r\n[ INFO] [1551238038.771534506]: Plugin global_position initialized\r\n[ INFO] [1551238038.771776232]: Plugin gps_rtk loaded\r\n[ INFO] [1551238038.775434848]: Plugin gps_rtk initialized\r\n[ INFO] [1551238038.775479226]: Plugin hil blacklisted\r\n[ INFO] [1551238038.775745992]: Plugin home_position loaded\r\n[ INFO] [1551238038.781335293]: Plugin home_position initialized\r\n[ INFO] [1551238038.781709465]: Plugin imu loaded\r\n[ INFO] [1551238038.792540416]: Plugin imu initialized\r\n[ INFO] [1551238038.793310967]: Plugin local_position loaded\r\n[ INFO] [1551238038.802639732]: Plugin local_position initialized\r\n[ INFO] [1551238038.802936049]: Plugin log_transfer loaded\r\n[ INFO] [1551238038.807073810]: Plugin log_transfer initialized\r\n[ INFO] [1551238038.807425940]: Plugin manual_control loaded\r\n[ INFO] [1551238038.812396519]: Plugin manual_control initialized\r\n[ INFO] [1551238038.812695793]: Plugin mocap_pose_estimate loaded\r\n[ INFO] [1551238038.818711985]: Plugin mocap_pose_estimate initialized\r\n[ INFO] [1551238038.818949805]: Plugin obstacle_distance loaded\r\n[ INFO] [1551238038.822409954]: Plugin obstacle_distance initialized\r\n[ INFO] [1551238038.822672808]: Plugin odom loaded\r\n[ INFO] [1551238038.830855145]: Plugin odom initialized\r\n[ INFO] [1551238038.831312835]: Plugin param loaded\r\n[ INFO] [1551238038.835820397]: Plugin param initialized\r\n[ INFO] [1551238038.835874173]: Plugin px4flow blacklisted\r\n[ INFO] [1551238038.836133734]: Plugin rangefinder loaded\r\n[ INFO] [1551238038.837210097]: Plugin rangefinder initialized\r\n[ INFO] [1551238038.837615588]: Plugin rc_io loaded\r\n[ INFO] [1551238038.843197955]: Plugin rc_io initialized\r\n[ INFO] [1551238038.843246328]: Plugin safety_area blacklisted\r\n[ INFO] [1551238038.843568719]: Plugin setpoint_accel loaded\r\n[ INFO] [1551238038.848271639]: Plugin setpoint_accel initialized\r\n[ INFO] [1551238038.848726382]: Plugin setpoint_attitude loaded\r\n[ INFO] [1551238038.864069321]: Plugin setpoint_attitude initialized\r\n[ INFO] [1551238038.864449859]: Plugin setpoint_position loaded\r\n[ INFO] [1551238038.884629307]: Plugin setpoint_position initialized\r\n[ INFO] [1551238038.884910213]: Plugin setpoint_raw loaded\r\n[ INFO] [1551238038.898468954]: Plugin setpoint_raw initialized\r\n[ INFO] [1551238038.898819668]: Plugin setpoint_velocity loaded\r\n[ INFO] [1551238038.907267925]: Plugin setpoint_velocity initialized\r\n[ INFO] [1551238038.907788280]: Plugin sys_status loaded\r\n[ INFO] [1551238038.923480041]: Plugin sys_status initialized\r\n[ INFO] [1551238038.923805013]: Plugin sys_time loaded\r\n[ INFO] [1551238038.932515806]: TM: Timesync mode: MAVLINK\r\n[ INFO] [1551238038.934191004]: Plugin sys_time initialized\r\n[ INFO] [1551238038.934481164]: Plugin trajectory loaded\r\n[ INFO] [1551238038.942206535]: Plugin trajectory initialized\r\n[ INFO] [1551238038.942586449]: Plugin vfr_hud loaded\r\n[ INFO] [1551238038.943596888]: Plugin vfr_hud initialized\r\n[ INFO] [1551238038.943659062]: Plugin vibration blacklisted\r\n[ INFO] [1551238038.943878171]: Plugin vision_pose_estimate loaded\r\n[ INFO] [1551238038.954680711]: Plugin vision_pose_estimate initialized\r\n[ INFO] [1551238038.954742768]: Plugin vision_speed_estimate blacklisted\r\n[ INFO] [1551238038.955090938]: Plugin waypoint loaded\r\n[ INFO] [1551238038.961822273]: Plugin waypoint initialized\r\n[ INFO] [1551238038.961872662]: Plugin wheel_odometry blacklisted\r\n[ INFO] [1551238038.962112749]: Plugin wind_estimation loaded\r\n[ INFO] [1551238038.963228186]: Plugin wind_estimation initialized\r\n[ INFO] [1551238038.963326773]: Built-in SIMD instructions: SSE, SSE2\r\n[ INFO] [1551238038.963368089]: Built-in MAVLink package version: 2019.2.2\r\n[ INFO] [1551238038.963401847]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta\r\n[ INFO] [1551238038.963437602]: MAVROS started. MY ID 1.240, TARGET ID 1.1\r\n[ WARN] [1551238039.546025179]: TM : RTT too high for timesync: 11.41 ms.\r\nRemaining: 0.250000 litres\r\nPump: 0.000000 l/s\r\nSpinner: 0.000000 rev/s\r\nposition_demand=0.000000 jaw_gap=30.000000 load=0.000000\r\n[ INFO] [1551238039.710580174]: CON: Got HEARTBEAT, connected. FCU: ArduPilot\r\n[ INFO] [1551238040.392155148]: FCU: Barometer calibration complete\r\n[ WARN] [1551238040.650563281]: TM : RTT too high for timesync: 16.31 ms.\r\n[ INFO] [1551238040.715135240]: VER: 1.1: Capabilities         0x0000000000003bcf\r\n[ INFO] [1551238040.715203024]: VER: 1.1: Flight software:     030604ff ( 6c4da9e)\r\n[ INFO] [1551238040.715242910]: VER: 1.1: Middleware software: 00000000 (        )\r\n[ INFO] [1551238040.715277388]: VER: 1.1: OS software:         00000000 (        )\r\n[ INFO] [1551238040.715309213]: VER: 1.1: Board hardware:      00000000\r\n[ INFO] [1551238040.715341533]: VER: 1.1: VID/PID:             0000:0000\r\n[ INFO] [1551238040.715372768]: VER: 1.1: UID:                 0000000000000000\r\n[ WARN] [1551238040.715504926]: CMD: Unexpected command 520, result 0\r\n[ERROR] [1551238041.140563398]: FCU: PreArm: RC Roll not configured\r\n[ERROR] [1551238041.140704227]: FCU: PreArm: RC Pitch not configured\r\n[ERROR] [1551238041.140816538]: FCU: PreArm: RC Throttle not configured\r\n[ERROR] [1551238041.140915085]: FCU: PreArm: RC Yaw not configured\r\n[ INFO] [1551238041.239837152]: FCU: GPS 1: detected as u-blox at 115200 baud\r\n[ WARN] [1551238042.455874978]: TM : RTT too high for timesync: 20.66 ms.\r\n[ INFO] [1551238042.830363858]: FCU: EKF2 IMU0 initial yaw alignment complete\r\n[ INFO] [1551238042.830485660]: FCU: EKF2 IMU1 initial yaw alignment complete\r\n[ WARN] [1551238043.065112795]: TM : RTT too high for timesync: 30.50 ms.\r\n[ WARN] [1551238043.666019666]: TM : RTT too high for timesync: 31.72 ms.\r\n[ INFO] [1551238043.732597316]: FCU: EKF2 IMU0 tilt alignment complete\r\n[ INFO] [1551238043.732748445]: FCU: EKF2 IMU1 tilt alignment complete\r\n[ WARN] [1551238044.254662081]: TM : RTT too high for timesync: 19.55 ms.\r\n[ WARN] [1551238044.845644356]: TM : RTT too high for timesync: 10.53 ms.\r\n[ WARN] [1551238045.450144456]: TM : RTT too high for timesync: 15.58 ms.\r\n[ WARN] [1551238046.059107280]: TM : RTT too high for timesync: 24.25 ms.\r\n[ WARN] [1551238046.659967721]: TM : RTT too high for timesync: 25.26 ms.\r\n[ WARN] [1551238047.253886354]: TM : RTT too high for timesync: 18.90 ms.\r\n[ WARN] [1551238047.853585452]: TM : RTT too high for timesync: 18.71 ms.\r\n[ WARN] [1551238048.458600777]: TM : RTT too high for timesync: 23.40 ms.\r\n[ WARN] [1551238049.055690469]: TM : RTT too high for timesync: 20.76 ms.\r\n[ WARN] [1551238049.653167635]: TM : RTT too high for timesync: 18.43 ms.\r\n[ INFO] [1551238049.710924644]: HP: requesting home position\r\n[ INFO] [1551238049.720476616]: FCU: ArduCopter V3.6.4 (6c4da9e3)\r\n[ INFO] [1551238049.720644223]: FCU: Frame: UNKNOWN\r\n[ INFO] [1551238050.134494016]: PR: parameters list received\r\n[ WARN] [1551238050.260175361]: TM : RTT too high for timesync: 25.18 ms.\r\n[ WARN] [1551238050.855799571]: TM : RTT too high for timesync: 20.95 ms.\r\n[ WARN] [1551238051.454136006]: TM : RTT too high for timesync: 19.78 ms.\r\n[ WARN] [1551238052.058591209]: TM : RTT too high for timesync: 23.88 ms.\r\n[ INFO] [1551238052.258868782]: FCU: EKF2 IMU0 Origin set to GPS\r\n[ INFO] [1551238052.259176201]: FCU: EKF2 IMU1 Origin set to GPS\r\n[ WARN] [1551238052.653949011]: TM : RTT too high for timesync: 19.00 ms.\r\n[ WARN] [1551238053.254802757]: TM : RTT too high for timesync: 19.82 ms.\r\n[ WARN] [1551238053.857933925]: TM : RTT too high for timesync: 22.99 ms.\r\n[ WARN] [1551238054.454018666]: TM : RTT too high for timesync: 19.05 ms.\r\n...\r\n\r\n[ERROR] [1551238041.140563398]: FCU: PreArm: RC Roll not configured\r\n[ERROR] [1551238041.140704227]: FCU: PreArm: RC Pitch not configured\r\n[ERROR] [1551238041.140816538]: FCU: PreArm: RC Throttle not configured\r\n[ERROR] [1551238041.140915085]: FCU: PreArm: RC Yaw not configured\r\n[ INFO] [1551238041.239837152]: FCU: GPS 1: detected as u-blox at 115200 baud\r\n[ WARN] [1551238042.455874978]: TM : RTT too high for timesync: 20.66 ms.\r\n[ INFO] [1551238042.830363858]: FCU: EKF2 IMU0 initial yaw alignment complete\r\n[ INFO] [1551238042.830485660]: FCU: EKF2 IMU1 initial yaw alignment complete\r\n[ WARN] [1551238043.065112795]: TM : RTT too high for timesync: 30.50 ms.\r\n[ WARN] [1551238043.666019666]: TM : RTT too high for timesync: 31.72 ms.\r\n[ INFO] [1551238043.732597316]: FCU: EKF2 IMU0 tilt alignment complete\r\n[ INFO] [1551238043.732748445]: FCU: EKF2 IMU1 tilt alignment complete\r\n[ WARN] [1551238044.254662081]: TM : RTT too high for timesync: 19.55 ms.\r\n[ WARN] [1551238044.845644356]: TM : RTT too high for timesync: 10.53 ms.\r\n[ WARN] [1551238045.450144456]: TM : RTT too high for timesync: 15.58 ms.\r\n[ WARN] [1551238046.059107280]: TM : RTT too high for timesync: 24.25 ms.\r\n[ WARN] [1551238046.659967721]: TM : RTT too high for timesync: 25.26 ms.\r\n[ WARN] [1551238047.253886354]: TM : RTT too high for timesync: 18.90 ms.\r\n[ WARN] [1551238047.853585452]: TM : RTT too high for timesync: 18.71 ms.\r\n[ WARN] [1551238048.458600777]: TM : RTT too high for timesync: 23.40 ms.\r\n[ WARN] [1551238049.055690469]: TM : RTT too high for timesync: 20.76 ms.\r\n[ WARN] [1551238049.653167635]: TM : RTT too high for timesync: 18.43 ms.\r\n[ INFO] [1551238049.710924644]: HP: requesting home position\r\n[ INFO] [1551238049.720476616]: FCU: ArduCopter V3.6.4 (6c4da9e3)\r\n[ INFO] [1551238049.720644223]: FCU: Frame: UNKNOWN\r\n[ INFO] [1551238050.134494016]: PR: parameters list received\r\n[ WARN] [1551238050.260175361]: TM : RTT too high for timesync: 25.18 ms.\r\n[ WARN] [1551238050.855799571]: TM : RTT too high for timesync: 20.95 ms.\r\n[ WARN] [1551238051.454136006]: TM : RTT too high for timesync: 19.78 ms.\r\n[ WARN] [1551238052.058591209]: TM : RTT too high for timesync: 23.88 ms.\r\n[ INFO] [1551238052.258868782]: FCU: EKF2 IMU0 Origin set to GPS\r\n[ INFO] [1551238052.259176201]: FCU: EKF2 IMU1 Origin set to GPS\r\n[ WARN] [1551238052.653949011]: TM : RTT too high for timesync: 19.00 ms.\r\n[ WARN] [1551238053.254802757]: TM : RTT too high for timesync: 19.82 ms.\r\n[ WARN] [1551238053.857933925]: TM : RTT too high for timesync: 22.99 ms.\r\n[ WARN] [1551238054.454018666]: TM : RTT too high for timesync: 19.05 ms.\r\n[ INFO] [1551238054.721552400]: WP: mission received\r\n[ WARN] [1551238055.054610004]: TM : RTT too high for timesync: 20.11 ms.\r\n[ WARN] [1551238055.657960017]: TM : RTT too high for timesync: 23.34 ms.\r\n[ERROR] [1551238056.154673748]: FCU: PreArm: check firmware or FRAME_CLASS\r\n[ERROR] [1551238056.154810053]: FCU: PreArm: 3D Accel calibration needed\r\n[ERROR] [1551238056.154917799]: FCU: PreArm: RC Roll not configured\r\n[ERROR] [1551238056.154981850]: FCU: PreArm: RC Pitch not configured\r\n[ERROR] [1551238056.155107840]: FCU: PreArm: RC Throttle not configured\r\n[ERROR] [1551238056.155175305]: FCU: PreArm: RC Yaw not configured\r\n[ WARN] [1551238056.253789332]: TM : RTT too high for timesync: 19.38 ms.\r\n[ WARN] [1551238056.857282455]: TM : RTT too high for timesync: 22.97 ms.\r\n[ WARN] [1551238057.457108594]: TM : RTT too high for timesync: 21.93 ms.\r\n[ WARN] [1551238058.054986989]: TM : RTT too high for timesync: 20.54 ms.\r\n[ WARN] [1551238058.657970075]: TM : RTT too high for timesync: 23.46 ms.\r\n[ WARN] [1551238059.256635346]: TM : RTT too high for timesync: 21.84 ms.\r\n[ WARN] [1551238059.856436421]: TM : RTT too high for timesync: 21.63 ms.\r\n[ WARN] [1551238060.455614084]: TM : RTT too high for timesync: 21.08 ms.\r\n[ WARN] [1551238061.057219254]: TM : RTT too high for timesync: 22.15 ms.\r\n[ WARN] [1551238061.645786884]: TM : RTT too high for timesync: 11.48 ms.\r\n[ WARN] [1551238062.857146529]: TM : RTT too high for timesync: 22.78 ms.\r\n[ WARN] [1551238063.457156431]: TM : RTT too high for timesync: 22.05 ms.\r\n[ WARN] [1551238064.067205969]: TM : RTT too high for timesync: 32.75 ms.\r\n[ WARN] [1551238066.160934907]: TM : RTT too high for timesync: 25.90 ms.\r\n[ WARN] [1551238066.760496669]: TM : RTT too high for timesync: 26.19 ms.\r\n[ WARN] [1551238069.062635448]: TM : RTT too high for timesync: 28.03 ms.\r\n[ WARN] [1551238070.965773375]: TM : RTT too high for timesync: 30.94 ms\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\nroot@9d820d31bf83:/ros_ws# rostopic echo -n1 /diagnostics\r\nheader: \r\n  seq: 149\r\n  stamp: \r\n    secs: 1551238225\r\n    nsecs: 964653311\r\n  frame_id: ''\r\nstatus: \r\n  - \r\n    level: 0\r\n    name: \"mavros: FCU connection\"\r\n    message: \"connected\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Received packets:\"\r\n        value: \"3056\"\r\n      - \r\n        key: \"Dropped packets:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Buffer overruns:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Parse errors:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Rx sequence number:\"\r\n        value: \"239\"\r\n      - \r\n        key: \"Tx sequence number:\"\r\n        value: \"219\"\r\n      - \r\n        key: \"Rx total bytes:\"\r\n        value: \"93737\"\r\n      - \r\n        key: \"Tx total bytes:\"\r\n        value: \"60418\"\r\n      - \r\n        key: \"Rx speed:\"\r\n        value: \"413.000000\"\r\n      - \r\n        key: \"Tx speed:\"\r\n        value: \"500.000000\"\r\n  - \r\n    level: 2\r\n    name: \"mavros: GPS\"\r\n    message: \"No satellites\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Satellites visible\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Fix type\"\r\n        value: \"0\"\r\n      - \r\n        key: \"EPH (m)\"\r\n        value: \"Unknown\"\r\n      - \r\n        key: \"EPV (m)\"\r\n        value: \"Unknown\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Heartbeat\"\r\n    message: \"Normal\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Heartbeats since startup\"\r\n        value: \"186\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"0.999933\"\r\n      - \r\n        key: \"Vehicle type\"\r\n        value: \"Quadrotor\"\r\n      - \r\n        key: \"Autopilot type\"\r\n        value: \"ArduPilot\"\r\n      - \r\n        key: \"Mode\"\r\n        value: \"STABILIZE\"\r\n      - \r\n        key: \"System status\"\r\n        value: \"Standby\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: System\"\r\n    message: \"Normal\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Sensor present\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor enabled\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor helth\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"CPU Load (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Drop rate (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Errors comm\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #1\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #2\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #3\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #4\"\r\n        value: \"0\"\r\n  - \r\n    level: 2\r\n    name: \"mavros: Battery\"\r\n    message: \"No data\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Voltage\"\r\n        value: \"-1.00\"\r\n      - \r\n        key: \"Current\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Remaining\"\r\n        value: \"0.0\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Time Sync\"\r\n    message: \"Normal\"\r\n    hardware_id: \"tcp://127.0.0.1:5760@5760\"\r\n    values: \r\n      - \r\n        key: \"Timesyncs since startup\"\r\n        value: \"1869\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"9.999328\"\r\n      - \r\n        key: \"Last RTT (ms)\"\r\n        value: \"14.213008\"\r\n      - \r\n        key: \"Mean RTT (ms)\"\r\n        value: \"15.054268\"\r\n      - \r\n        key: \"Last remote time (s)\"\r\n        value: \"187.091520000\"\r\n      - \r\n        key: \"Estimated time offset (s)\"\r\n        value: \"1551238038.718651533\"\r\n---\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nroot@9d820d31bf83:/ros_ws# rosrun mavros checkid\r\nOK. I got messages from 1:1.\r\n\r\n---\r\nReceived 171 messages, from 1 addresses\r\nsys:comp   list of messages\r\n  1:1     0, 253, 111\r\n```\r\n\r\n### Bug Reproduction\r\n\r\nUsing the provided [Dockerfile](https://github.com/mavlink/mavros/files/2908434/Dockerfile.txt):\r\n\r\n```\r\n$ docker build -t mavros-timing-bug .\r\n$ docker run --rm -it mavros-timing-bug\r\n~ roscore &\r\n...\r\n\r\n~ /ros_ws/src/ArduPilot/build/sitl/bin/arducopter --model copter &\r\nCreating model copter at speed 1.0\r\nHome: -35.363261 149.165235 alt=584.000000m hdg=353.000000\r\nStarting sketch 'ArduCopter'\r\nStarting SITL input\r\nUsing Irlock at port : 9005\r\nbind port 5760 for 0\r\nSerial port 0 on TCP port 5760\r\nWaiting for connection ....\r\n\r\n~ roslaunch mavros apm.launch fcu_url:=tcp://127.0.0.1:5760@5760\r\n...\r\n```"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
    - question
- url: 'https://github.com/mavlink/mavros/issues/1182'
  title: 'Low update rate on Mavros topic '
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\nHello everyone,\r\nI'm working on a indoor drone project and recently I noticed something bad: \r\nthe topics are being updating in a very low rate (less than 1Hz) (including the topic mavros/local_position/pose that is important to control the drone on OFFBOARD mode).\r\nIt's turning the flight control difficult by setposition topic because the drone doesn't know its correct altitude in real time. When I test this test algorithm (fly 1 meter and hold its position), on Gazebo Simulator, the Mavros topics are updating in a nice rate.\r\nIn order to verify if the problem is the telemetry system, I tested the information update rate on QGroundControl and when I move the drone, the information are instantaneously updated. Then, I suppose the telemetry system (3DR Radio Link) is not the problem.\r\n\r\nI'm launching mavros by this command:\r\n\r\nroslaunch mavros px4.launch fcu_url:=/dev/ttyUSB0:57600\r\n \r\nIf there's a way to solve this problem (high latency on topic updating using telemetry) please tell me.\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.18.4\r\nROS: Lunar 1.13.7\r\nUbuntu: 16.04\r\n\r\n### Autopilot type and version\r\n\r\n[  ] ArduPilot\r\n[X] PX4\r\n\r\nVersion: 3.7.1 (PX4FMU_V3) Pixhawk 2\r\n\r\n### Node logs\r\n\r\nstarted roslaunch server http://lucas-Inspiron-7460:40689/\r\n\r\nSUMMARY\r\n========\r\n\r\nCLEAR PARAMETERS\r\n * /mavros/\r\n\r\nPARAMETERS\r\n * /mavros/cmd/use_comp_id_system_control: False\r\n * /mavros/conn/heartbeat_rate: 1.0\r\n * /mavros/conn/system_time_rate: 1.0\r\n * /mavros/conn/timeout: 10.0\r\n * /mavros/conn/timesync_rate: 10.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/frame_id: hrlv_ez4_sonar\r\n * /mavros/distance_sensor/hrlv_ez4_pub/id: 0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/orientation: PITCH_270\r\n * /mavros/distance_sensor/hrlv_ez4_pub/send_tf: True\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/laser_1_sub/id: 3\r\n * /mavros/distance_sensor/laser_1_sub/orientation: PITCH_270\r\n * /mavros/distance_sensor/laser_1_sub/subscriber: True\r\n * /mavros/distance_sensor/lidarlite_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/frame_id: lidarlite_laser\r\n * /mavros/distance_sensor/lidarlite_pub/id: 1\r\n * /mavros/distance_sensor/lidarlite_pub/orientation: PITCH_270\r\n * /mavros/distance_sensor/lidarlite_pub/send_tf: True\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/sonar_1_sub/id: 2\r\n * /mavros/distance_sensor/sonar_1_sub/orientation: PITCH_270\r\n * /mavros/distance_sensor/sonar_1_sub/subscriber: True\r\n * /mavros/fake_gps/eph: 2.0\r\n * /mavros/fake_gps/epv: 2.0\r\n * /mavros/fake_gps/fix_type: 3\r\n * /mavros/fake_gps/geo_origin/alt: 408.0\r\n * /mavros/fake_gps/geo_origin/lat: 47.3667\r\n * /mavros/fake_gps/geo_origin/lon: 8.55\r\n * /mavros/fake_gps/gps_rate: 5.0\r\n * /mavros/fake_gps/mocap_transform: True\r\n * /mavros/fake_gps/satellites_visible: 5\r\n * /mavros/fake_gps/tf/child_frame_id: fix\r\n * /mavros/fake_gps/tf/frame_id: map\r\n * /mavros/fake_gps/tf/listen: False\r\n * /mavros/fake_gps/tf/rate_limit: 10.0\r\n * /mavros/fake_gps/tf/send: False\r\n * /mavros/fake_gps/use_mocap: True\r\n * /mavros/fake_gps/use_vision: False\r\n * /mavros/fcu_protocol: v2.0\r\n * /mavros/fcu_url: /dev/ttyUSB0:57600\r\n * /mavros/gcs_url: \r\n * /mavros/global_position/child_frame_id: base_link\r\n * /mavros/global_position/frame_id: map\r\n * /mavros/global_position/rot_covariance: 99999.0\r\n * /mavros/global_position/tf/child_frame_id: base_link\r\n * /mavros/global_position/tf/frame_id: map\r\n * /mavros/global_position/tf/global_frame_id: earth\r\n * /mavros/global_position/tf/send: False\r\n * /mavros/global_position/use_relative_alt: True\r\n * /mavros/image/frame_id: px4flow\r\n * /mavros/imu/angular_velocity_stdev: 0.000349065850399\r\n * /mavros/imu/frame_id: base_link\r\n * /mavros/imu/linear_acceleration_stdev: 0.0003\r\n * /mavros/imu/magnetic_stdev: 0.0\r\n * /mavros/imu/orientation_stdev: 1.0\r\n * /mavros/local_position/frame_id: map\r\n * /mavros/local_position/tf/child_frame_id: base_link\r\n * /mavros/local_position/tf/frame_id: map\r\n * /mavros/local_position/tf/send: False\r\n * /mavros/local_position/tf/send_fcu: False\r\n * /mavros/mission/pull_after_gcs: True\r\n * /mavros/mocap/use_pose: True\r\n * /mavros/mocap/use_tf: False\r\n * /mavros/odometry/estimator_type: 3\r\n * /mavros/odometry/frame_tf/desired_frame: ned\r\n * /mavros/plugin_blacklist: ['safety_area', '...\r\n * /mavros/plugin_whitelist: ['sys_*', 'comman...\r\n * /mavros/px4flow/frame_id: px4flow\r\n * /mavros/px4flow/ranger_fov: 0.118682389136\r\n * /mavros/px4flow/ranger_max_range: 5.0\r\n * /mavros/px4flow/ranger_min_range: 0.3\r\n * /mavros/safety_area/p1/x: 1.0\r\n * /mavros/safety_area/p1/y: 1.0\r\n * /mavros/safety_area/p1/z: 1.0\r\n * /mavros/safety_area/p2/x: -1.0\r\n * /mavros/safety_area/p2/y: -1.0\r\n * /mavros/safety_area/p2/z: -1.0\r\n * /mavros/setpoint_accel/send_force: False\r\n * /mavros/setpoint_attitude/reverse_thrust: False\r\n * /mavros/setpoint_attitude/tf/child_frame_id: target_attitude\r\n * /mavros/setpoint_attitude/tf/frame_id: map\r\n * /mavros/setpoint_attitude/tf/listen: False\r\n * /mavros/setpoint_attitude/tf/rate_limit: 50.0\r\n * /mavros/setpoint_attitude/use_quaternion: False\r\n * /mavros/setpoint_position/mav_frame: LOCAL_NED\r\n * /mavros/setpoint_position/tf/child_frame_id: target_position\r\n * /mavros/setpoint_position/tf/frame_id: map\r\n * /mavros/setpoint_position/tf/listen: False\r\n * /mavros/setpoint_position/tf/rate_limit: 50.0\r\n * /mavros/setpoint_velocity/mav_frame: LOCAL_NED\r\n * /mavros/startup_px4_usb_quirk: True\r\n * /mavros/sys/disable_diag: False\r\n * /mavros/sys/min_voltage: 10.0\r\n * /mavros/target_component_id: 1\r\n * /mavros/target_system_id: 1\r\n * /mavros/tdr_radio/low_rssi: 40\r\n * /mavros/time/time_ref_source: fcu\r\n * /mavros/time/timesync_avg_alpha: 0.6\r\n * /mavros/time/timesync_mode: MAVLINK\r\n * /mavros/vibration/frame_id: base_link\r\n * /mavros/vision_pose/tf/child_frame_id: vision_estimate\r\n * /mavros/vision_pose/tf/frame_id: map\r\n * /mavros/vision_pose/tf/listen: False\r\n * /mavros/vision_pose/tf/rate_limit: 10.0\r\n * /mavros/vision_speed/listen_twist: False\r\n * /rosdistro: lunar\r\n * /rosversion: 1.13.7\r\n\r\nNODES\r\n  /\r\n    mavros (mavros/mavros_node)\r\n\r\nauto-starting new master\r\nprocess[master]: started with pid [2541]\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nsetting /run_id to 9a6d39f0-3495-11e9-b342-d80f99bfeedd\r\nprocess[rosout-1]: started with pid [2554]\r\nstarted core service [/rosout]\r\nprocess[mavros-2]: started with pid [2558]\r\n[ INFO] [1550615282.620918500]: FCU URL: /dev/ttyUSB0:57600\r\n[ INFO] [1550615282.628097425]: serial0: device: /dev/ttyUSB0 @ 57600 bps\r\n[ INFO] [1550615282.629657172]: GCS bridge disabled\r\n[ INFO] [1550615283.005490453]: Plugin 3dr_radio loaded\r\n[ INFO] [1550615283.016262520]: Plugin 3dr_radio initialized\r\n[ INFO] [1550615283.016922684]: Plugin actuator_control loaded\r\n[ INFO] [1550615283.036063147]: Plugin actuator_control initialized\r\n[ INFO] [1550615283.180910744]: Plugin adsb loaded\r\n[ INFO] [1550615283.199508913]: Plugin adsb initialized\r\n[ INFO] [1550615283.200122246]: Plugin altitude loaded\r\n[ INFO] [1550615283.205285741]: Plugin altitude initialized\r\n[ INFO] [1550615283.205815126]: Plugin cam_imu_sync loaded\r\n[ INFO] [1550615283.209386405]: Plugin cam_imu_sync initialized\r\n[ INFO] [1550615283.210240304]: Plugin command loaded\r\n[ INFO] [1550615283.225353117]: Plugin command initialized\r\n[ INFO] [1550615283.225590836]: Plugin debug_value loaded\r\n[ INFO] [1550615283.232669245]: Plugin debug_value initialized\r\n[ INFO] [1550615283.232908823]: Plugin distance_sensor loaded\r\n[ INFO] [1550615283.253243787]: Plugin distance_sensor initialized\r\n[ INFO] [1550615283.253403903]: Plugin fake_gps loaded\r\n[ INFO] [1550615283.265462310]: Plugin fake_gps initialized\r\n[ INFO] [1550615283.265642850]: Plugin ftp loaded\r\n[ INFO] [1550615283.299905247]: Plugin ftp initialized\r\n[ INFO] [1550615283.300239115]: Plugin global_position loaded\r\n[ INFO] [1550615283.321240791]: Plugin global_position initialized\r\n[ INFO] [1550615283.321408172]: Plugin hil loaded\r\n[ INFO] [1550615283.333517994]: Plugin hil initialized\r\n[ INFO] [1550615283.333663254]: Plugin home_position loaded\r\n[ INFO] [1550615283.337023981]: Plugin home_position initialized\r\n[ INFO] [1550615283.337177924]: Plugin imu loaded\r\n[ INFO] [1550615283.343122555]: Plugin imu initialized\r\n[ INFO] [1550615283.343296148]: Plugin local_position loaded\r\n[ INFO] [1550615283.348493766]: Plugin local_position initialized\r\n[ INFO] [1550615283.348663249]: Plugin manual_control loaded\r\n[ INFO] [1550615283.351450564]: Plugin manual_control initialized\r\n[ INFO] [1550615283.351582959]: Plugin mocap_pose_estimate loaded\r\n[ INFO] [1550615283.355063800]: Plugin mocap_pose_estimate initialized\r\n[ INFO] [1550615283.355195144]: Plugin obstacle_distance loaded\r\n[ INFO] [1550615283.357456969]: Plugin obstacle_distance initialized\r\n[ INFO] [1550615283.357587687]: Plugin odom loaded\r\n[ INFO] [1550615283.361565989]: Plugin odom initialized\r\n[ INFO] [1550615283.361806653]: Plugin param loaded\r\n[ INFO] [1550615283.364534712]: Plugin param initialized\r\n[ INFO] [1550615283.364671532]: Plugin px4flow loaded\r\n[ INFO] [1550615283.369073140]: Plugin px4flow initialized\r\n[ INFO] [1550615283.369111163]: Plugin rangefinder blacklisted\r\n[ INFO] [1550615283.369312682]: Plugin rc_io loaded\r\n[ INFO] [1550615283.372972026]: Plugin rc_io initialized\r\n[ INFO] [1550615283.373003278]: Plugin safety_area blacklisted\r\n[ INFO] [1550615283.373167387]: Plugin setpoint_accel loaded\r\n[ INFO] [1550615283.376406691]: Plugin setpoint_accel initialized\r\n[ INFO] [1550615283.377400233]: Plugin setpoint_attitude loaded\r\n[ INFO] [1550615283.389351446]: Plugin setpoint_attitude initialized\r\n[ INFO] [1550615283.389534840]: Plugin setpoint_position loaded\r\n[ INFO] [1550615283.402243938]: Plugin setpoint_position initialized\r\n[ INFO] [1550615283.402416765]: Plugin setpoint_raw loaded\r\n[ INFO] [1550615283.411808900]: Plugin setpoint_raw initialized\r\n[ INFO] [1550615283.411964755]: Plugin setpoint_velocity loaded\r\n[ INFO] [1550615283.422231223]: Plugin setpoint_velocity initialized\r\n[ INFO] [1550615283.422505372]: Plugin sys_status loaded\r\n[ INFO] [1550615283.432547532]: Plugin sys_status initialized\r\n[ INFO] [1550615283.432719677]: Plugin sys_time loaded\r\n[ INFO] [1550615283.436368915]: TM: Timesync mode: MAVLINK\r\n[ INFO] [1550615283.437101900]: Plugin sys_time initialized\r\n[ INFO] [1550615283.437253132]: Plugin vfr_hud loaded\r\n[ INFO] [1550615283.439465587]: Plugin vfr_hud initialized\r\n[ INFO] [1550615283.439567779]: Plugin vibration blacklisted\r\n[ INFO] [1550615283.439755275]: Plugin vision_pose_estimate loaded\r\n[ INFO] [1550615283.457540915]: Plugin vision_pose_estimate initialized\r\n[ INFO] [1550615283.457703193]: Plugin vision_speed_estimate loaded\r\n[ INFO] [1550615283.465478522]: Plugin vision_speed_estimate initialized\r\n[ INFO] [1550615283.465761859]: Plugin waypoint loaded\r\n[ INFO] [1550615283.474218655]: Plugin waypoint initialized\r\n[ INFO] [1550615283.474330396]: Autostarting mavlink via USB on PX4\r\n[ INFO] [1550615283.474477571]: Built-in SIMD instructions: SSE, SSE2\r\n[ INFO] [1550615283.474554361]: Built-in MAVLink package version: 2018.11.11\r\n[ INFO] [1550615283.474614431]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta\r\n[ INFO] [1550615283.474657310]: MAVROS started. MY ID 1.240, TARGET ID 1.1\r\n[ WARN] [1550615283.817167434]: TM: Clock skew detected (-1550615055.508069277 s). Hard syncing clocks.\r\n[ INFO] [1550615283.817390639]: IMU: High resolution IMU detected!\r\n[ INFO] [1550615284.254528131]: CON: Got HEARTBEAT, connected. FCU: PX4 Autopilot\r\n[ WARN] [1550615284.790526019]: GP: No GPS fix\r\n[ INFO] [1550615285.531879261]: VER: 1.1: Capabilities         0x000000000000e4ef\r\n[ INFO] [1550615285.531966079]: VER: 1.1: Flight software:     01080000 (000000000A0E09B0)\r\n[ INFO] [1550615285.532021496]: VER: 1.1: Middleware software: 01080000 (000000000A0E09B0)\r\n[ INFO] [1550615285.532076209]: VER: 1.1: OS software:         071600ff (0000000070141D7D)\r\n[ INFO] [1550615285.532125921]: VER: 1.1: Board hardware:      00000011\r\n[ INFO] [1550615285.532166168]: VER: 1.1: VID/PID:             26ac:0011\r\n[ INFO] [1550615285.532211826]: VER: 1.1: UID:                 3036511438363834\r\n[ INFO] [1550615285.532544347]: IMU: High resolution IMU detected!\r\n[ WARN] [1550615285.594104998]: CMD: Unexpected command 520, result 0\r\n[ WARN] [1550615293.929445061]: TM: Clock skew detected (0.027132136 s). Hard syncing clocks.\r\n\r\n### Diagnostics\r\n\r\n```\r\nheader: \r\n  seq: 2138\r\n  stamp: \r\n    secs: 1550618079\r\n    nsecs: 476350000\r\n  frame_id: ''\r\nstatus: \r\n  - \r\n    level: 0\r\n    name: \"mavros: FCU connection\"\r\n    message: \"connected\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Received packets:\"\r\n        value: \"3164\"\r\n      - \r\n        key: \"Dropped packets:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Buffer overruns:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Parse errors:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Rx sequence number:\"\r\n        value: \"40\"\r\n      - \r\n        key: \"Tx sequence number:\"\r\n        value: \"56\"\r\n      - \r\n        key: \"Rx total bytes:\"\r\n        value: \"2350842\"\r\n      - \r\n        key: \"Tx total bytes:\"\r\n        value: \"915507\"\r\n      - \r\n        key: \"Rx speed:\"\r\n        value: \"661.000000\"\r\n      - \r\n        key: \"Tx speed:\"\r\n        value: \"320.000000\"\r\n  - \r\n    level: 2\r\n    name: \"mavros: GPS\"\r\n    message: \"No satellites\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Satellites visible\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Fix type\"\r\n        value: \"0\"\r\n      - \r\n        key: \"EPH (m)\"\r\n        value: \"99.99\"\r\n      - \r\n        key: \"EPV (m)\"\r\n        value: \"99.99\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Heartbeat\"\r\n    message: \"Normal\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Heartbeats since startup\"\r\n        value: \"2793\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"0.999995\"\r\n      - \r\n        key: \"Vehicle type\"\r\n        value: \"Quadrotor\"\r\n      - \r\n        key: \"Autopilot type\"\r\n        value: \"PX4 Autopilot\"\r\n      - \r\n        key: \"Mode\"\r\n        value: \"MANUAL\"\r\n      - \r\n        key: \"System status\"\r\n        value: \"Standby\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: System\"\r\n    message: \"Normal\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Sensor present\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor enabled\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor helth\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"CPU Load (%)\"\r\n        value: \"28.8\"\r\n      - \r\n        key: \"Drop rate (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Errors comm\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #1\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #2\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #3\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #4\"\r\n        value: \"0\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Battery\"\r\n    message: \"Normal\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Voltage\"\r\n        value: \"10.18\"\r\n      - \r\n        key: \"Current\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Remaining\"\r\n        value: \"0.0\"\r\n  - \r\n    level: 2\r\n    name: \"mavros: Time Sync\"\r\n    message: \"No events recorded.\"\r\n    hardware_id: \"/dev/ttyUSB0:57600\"\r\n    values: \r\n      - \r\n        key: \"Timesyncs since startup\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"0.000000\"\r\n      - \r\n        key: \"Last dt (ms)\"\r\n        value: \"9.376617\"\r\n      - \r\n        key: \"Mean dt (ms)\"\r\n        value: \"0.000000\"\r\n      - \r\n        key: \"Last system time (s)\"\r\n        value: \"3023.959504000\"\r\n      - \r\n        key: \"Time offset (s)\"\r\n        value: \"1550615055.404127836\"\r\n---\r\n\r\n### Check ID\r\n\r\n--- \r\nOK. I got messages from 1:1.\r\n\r\nReceived 371 messages, from 1 addresses\r\nsys:comp   list of messages\r\n  1:1     0, 1, 36, 230, 32, 105, 74, 141, 77, 111, 241, 147, 245, 4, 24, 132, 106, 30\r\n---\r\n\r\nThanks for the help!\r\n\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - question
- url: 'https://github.com/mavlink/mavros/pull/1175'
  title: 'Issue #1174 Added dependency for mavros_msgs and mavros'
  body: ''
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels: []
- url: 'https://github.com/mavlink/mavros/issues/1173'
  title: /mavros/setpoint_attitude/thrust not working
  body: "----\r\n\r\n### Issue details\r\n\r\nCannot get the ArduCopter to takeoff using the Python Mavros by setting the topic /mavros/setpoint_attitude/thrust with \"thrust = 0.6\" in the Guided_NoGPS mode. \r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.28.0\r\nROS: Kinetic\r\nUbuntu: ?16.04?\r\n\r\n\r\n### Autopilot type and version\r\n\r\n[ X ] ArduPilot\r\n[  ] PX4\r\n\r\nVersion: Copter 3.5.7\r\n\r\n\r\n### Node logs\r\n\r\n```\r\npi@AirStone:~/Workspace/dronekit/Bash $ roslaunch mavros.launch \r\n... logging to /home/pi/.ros/log/91adbe56-27fd-11e9-a7f6-b827eb79fcfb/roslaunch-AirStone-754.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nstarted roslaunch server http://192.168.0.27:36675/\r\n\r\nSUMMARY\r\n========\r\n\r\nCLEAR PARAMETERS\r\n * /mavros/\r\n\r\nPARAMETERS\r\n * /mavros/cmd/use_comp_id_system_control: False\r\n * /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER\r\n * /mavros/conn/heartbeat_rate: 1.0\r\n * /mavros/conn/system_time_rate: 1.0\r\n * /mavros/conn/timeout: 10.0\r\n * /mavros/conn/timesync_rate: 10.0\r\n * /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/frame_id: lidar\r\n * /mavros/distance_sensor/rangefinder_pub/id: 0\r\n * /mavros/distance_sensor/rangefinder_pub/send_tf: False\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/rangefinder_sub/id: 1\r\n * /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270\r\n * /mavros/distance_sensor/rangefinder_sub/subscriber: True\r\n * /mavros/fake_gps/eph: 2.0\r\n * /mavros/fake_gps/epv: 2.0\r\n * /mavros/fake_gps/fix_type: 3\r\n * /mavros/fake_gps/geo_origin/alt: 408.0\r\n * /mavros/fake_gps/geo_origin/lat: 47.3667\r\n * /mavros/fake_gps/geo_origin/lon: 8.55\r\n * /mavros/fake_gps/gps_rate: 5.0\r\n * /mavros/fake_gps/mocap_transform: True\r\n * /mavros/fake_gps/satellites_visible: 5\r\n * /mavros/fake_gps/tf/child_frame_id: fix\r\n * /mavros/fake_gps/tf/frame_id: map\r\n * /mavros/fake_gps/tf/listen: False\r\n * /mavros/fake_gps/tf/rate_limit: 10.0\r\n * /mavros/fake_gps/tf/send: False\r\n * /mavros/fake_gps/use_mocap: True\r\n * /mavros/fake_gps/use_vision: False\r\n * /mavros/fcu_protocol: v2.0\r\n * /mavros/fcu_url: udp://:14650@\r\n * /mavros/gcs_url: udp://:14551@192....\r\n * /mavros/global_position/child_frame_id: base_link\r\n * /mavros/global_position/frame_id: map\r\n * /mavros/global_position/gps_uere: 1.0\r\n * /mavros/global_position/rot_covariance: 99999.0\r\n * /mavros/global_position/tf/child_frame_id: base_link\r\n * /mavros/global_position/tf/frame_id: map\r\n * /mavros/global_position/tf/global_frame_id: earth\r\n * /mavros/global_position/tf/send: False\r\n * /mavros/global_position/use_relative_alt: True\r\n * /mavros/image/frame_id: px4flow\r\n * /mavros/imu/angular_velocity_stdev: 0.000349065850399\r\n * /mavros/imu/frame_id: base_link\r\n * /mavros/imu/linear_acceleration_stdev: 0.0003\r\n * /mavros/imu/magnetic_stdev: 0.0\r\n * /mavros/imu/orientation_stdev: 1.0\r\n * /mavros/local_position/frame_id: map\r\n * /mavros/local_position/tf/child_frame_id: base_link\r\n * /mavros/local_position/tf/frame_id: map\r\n * /mavros/local_position/tf/send: False\r\n * /mavros/local_position/tf/send_fcu: False\r\n * /mavros/mission/pull_after_gcs: True\r\n * /mavros/mocap/use_pose: True\r\n * /mavros/mocap/use_tf: False\r\n * /mavros/odometry/estimator_type: 3\r\n * /mavros/odometry/frame_tf/desired_frame: ned\r\n * /mavros/plugin_blacklist: ['actuator_contro...\r\n * /mavros/plugin_whitelist: []\r\n * /mavros/px4flow/frame_id: px4flow\r\n * /mavros/px4flow/ranger_fov: 0.118682389136\r\n * /mavros/px4flow/ranger_max_range: 5.0\r\n * /mavros/px4flow/ranger_min_range: 0.3\r\n * /mavros/safety_area/p1/x: 1.0\r\n * /mavros/safety_area/p1/y: 1.0\r\n * /mavros/safety_area/p1/z: 1.0\r\n * /mavros/safety_area/p2/x: -1.0\r\n * /mavros/safety_area/p2/y: -1.0\r\n * /mavros/safety_area/p2/z: -1.0\r\n * /mavros/setpoint_accel/send_force: False\r\n * /mavros/setpoint_attitude/reverse_thrust: False\r\n * /mavros/setpoint_attitude/tf/child_frame_id: target_attitude\r\n * /mavros/setpoint_attitude/tf/frame_id: map\r\n * /mavros/setpoint_attitude/tf/listen: False\r\n * /mavros/setpoint_attitude/tf/rate_limit: 50.0\r\n * /mavros/setpoint_attitude/use_quaternion: False\r\n * /mavros/setpoint_position/mav_frame: LOCAL_NED\r\n * /mavros/setpoint_position/tf/child_frame_id: target_position\r\n * /mavros/setpoint_position/tf/frame_id: map\r\n * /mavros/setpoint_position/tf/listen: False\r\n * /mavros/setpoint_position/tf/rate_limit: 50.0\r\n * /mavros/setpoint_velocity/mav_frame: LOCAL_NED\r\n * /mavros/startup_px4_usb_quirk: False\r\n * /mavros/sys/disable_diag: False\r\n * /mavros/sys/min_voltage: 10.0\r\n * /mavros/target_component_id: 1\r\n * /mavros/target_system_id: 1\r\n * /mavros/tdr_radio/low_rssi: 40\r\n * /mavros/time/time_ref_source: fcu\r\n * /mavros/time/timesync_avg_alpha: 0.6\r\n * /mavros/time/timesync_mode: MAVLINK\r\n * /mavros/vibration/frame_id: base_link\r\n * /mavros/vision_pose/tf/child_frame_id: vision_estimate\r\n * /mavros/vision_pose/tf/frame_id: map\r\n * /mavros/vision_pose/tf/listen: False\r\n * /mavros/vision_pose/tf/rate_limit: 10.0\r\n * /mavros/vision_speed/listen_twist: True\r\n * /mavros/vision_speed/twist_cov: True\r\n * /rosdistro: kinetic\r\n * /rosversion: 1.12.14\r\n\r\nNODES\r\n  /\r\n    mavros (mavros/mavros_node)\r\n\r\nauto-starting new master\r\nprocess[master]: started with pid [764]\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nsetting /run_id to 91adbe56-27fd-11e9-a7f6-b827eb79fcfb\r\nprocess[rosout-1]: started with pid [777]\r\nstarted core service [/rosout]\r\nprocess[mavros-2]: started with pid [792]\r\n[ INFO] [1549230577.984011464]: FCU URL: udp://:14650@\r\n[ INFO] [1549230578.006575439]: udp0: Bind address: 0.0.0.0:14650\r\n[ INFO] [1549230578.008420588]: GCS URL: udp://:14551@192.168.0.9:14552\r\n[ INFO] [1549230578.009926780]: udp1: Bind address: 0.0.0.0:14551\r\n[ INFO] [1549230578.010621569]: udp0: Remote address: 127.0.0.1:38629\r\n[ INFO] [1549230578.011270421]: udp1: Remote address: 192.168.0.9:14552\r\n[ INFO] [1549230578.724178603]: Plugin 3dr_radio loaded\r\n[ INFO] [1549230578.740373020]: Plugin 3dr_radio initialized\r\n[ INFO] [1549230578.740698904]: Plugin actuator_control blacklisted\r\n[ INFO] [1549230579.099722779]: Plugin adsb loaded\r\n[ INFO] [1549230579.130761669]: Plugin adsb initialized\r\n[ INFO] [1549230579.131306511]: Plugin altitude blacklisted\r\n[ INFO] [1549230579.132904994]: Plugin cam_imu_sync loaded\r\n[ INFO] [1549230579.139064294]: Plugin cam_imu_sync initialized\r\n[ INFO] [1549230579.141224494]: Plugin command loaded\r\n[ INFO] [1549230579.194392883]: Plugin command initialized\r\n[ INFO] [1549230579.196256782]: Plugin companion_process_status loaded\r\n[ INFO] [1549230579.221320227]: Plugin companion_process_status initialized\r\n[ INFO] [1549230579.221833819]: Plugin debug_value blacklisted\r\n[ INFO] [1549230579.223776884]: Plugin distance_sensor loaded\r\n[ INFO] [1549230579.309351138]: Plugin distance_sensor initialized\r\n[ INFO] [1549230579.311493005]: Plugin fake_gps loaded\r\n[ INFO] [1549230579.456577498]: Plugin fake_gps initialized\r\n[ INFO] [1549230579.457073694]: Plugin ftp blacklisted\r\n[ INFO] [1549230579.459377019]: Plugin global_position loaded\r\n[ INFO] [1549230579.621775612]: Plugin global_position initialized\r\n[ INFO] [1549230579.623786178]: Plugin gps_rtk loaded\r\n[ INFO] [1549230579.649569933]: Plugin gps_rtk initialized\r\n[ INFO] [1549230579.650293159]: Plugin hil blacklisted\r\n[ INFO] [1549230579.653256064]: Plugin home_position loaded\r\n[ INFO] [1549230579.691356490]: Plugin home_position initialized\r\n[ INFO] [1549230579.693794033]: Plugin imu loaded\r\n[ INFO] [1549230579.771022694]: Plugin imu initialized\r\n[ INFO] [1549230579.773577736]: Plugin local_position loaded\r\n[ INFO] [1549230579.834883646]: Plugin local_position initialized\r\n[ INFO] [1549230579.836839420]: Plugin log_transfer loaded\r\n[ INFO] [1549230579.867117428]: Plugin log_transfer initialized\r\n[ INFO] [1549230579.870032261]: Plugin manual_control loaded\r\n[ INFO] [1549230579.902300626]: Plugin manual_control initialized\r\n[ INFO] [1549230579.904394941]: Plugin mocap_pose_estimate loaded\r\n[ INFO] [1549230579.944904994]: Plugin mocap_pose_estimate initialized\r\n[ INFO] [1549230579.946844413]: Plugin obstacle_distance loaded\r\n[ INFO] [1549230579.972635720]: Plugin obstacle_distance initialized\r\n[ INFO] [1549230579.974588681]: Plugin odom loaded\r\n[ INFO] [1549230580.031631743]: Plugin odom initialized\r\n[ INFO] [1549230580.034404233]: Plugin param loaded\r\n[ INFO] [1549230580.065782081]: Plugin param initialized\r\n[ INFO] [1549230580.066355464]: Plugin px4flow blacklisted\r\n[ INFO] [1549230580.069017329]: Plugin rangefinder loaded\r\n[ INFO] [1549230580.076045792]: Plugin rangefinder initialized\r\n[ INFO] [1549230580.078980624]: Plugin rc_io loaded\r\n[ INFO] [1549230580.115845795]: Plugin rc_io initialized\r\n[ INFO] [1549230580.116413658]: Plugin safety_area blacklisted\r\n[ INFO] [1549230580.119378230]: Plugin setpoint_accel loaded\r\n[ INFO] [1549230580.153431224]: Plugin setpoint_accel initialized\r\n[ INFO] [1549230580.163474207]: Plugin setpoint_attitude loaded\r\n[ INFO] [1549230580.281451358]: Plugin setpoint_attitude initialized\r\n[ INFO] [1549230580.283773745]: Plugin setpoint_position loaded\r\n[ INFO] [1549230580.425397264]: Plugin setpoint_position initialized\r\n[ INFO] [1549230580.427457673]: Plugin setpoint_raw loaded\r\n[ INFO] [1549230580.518539147]: Plugin setpoint_raw initialized\r\n[ INFO] [1549230580.520864034]: Plugin setpoint_velocity loaded\r\n[ INFO] [1549230580.579907818]: Plugin setpoint_velocity initialized\r\n[ INFO] [1549230580.582648432]: Plugin sys_status loaded\r\n[ INFO] [1549230580.680289568]: Plugin sys_status initialized\r\n[ INFO] [1549230580.682267946]: Plugin sys_time loaded\r\n[ INFO] [1549230580.739914808]: TM: Timesync mode: MAVLINK\r\n[ INFO] [1549230580.752022731]: Plugin sys_time initialized\r\n[ INFO] [1549230580.753848088]: Plugin trajectory loaded\r\n[ INFO] [1549230580.809090897]: Plugin trajectory initialized\r\n[ INFO] [1549230580.811412190]: Plugin vfr_hud loaded\r\n[ INFO] [1549230580.817644250]: Plugin vfr_hud initialized\r\n[ INFO] [1549230580.817927842]: Plugin vibration blacklisted\r\n[ INFO] [1549230580.820608613]: Plugin vision_pose_estimate loaded\r\n[ INFO] [1549230580.901731323]: Plugin vision_pose_estimate initialized\r\n[ INFO] [1549230580.902013718]: Plugin vision_speed_estimate blacklisted\r\n[ INFO] [1549230580.904157199]: Plugin waypoint loaded\r\n[ INFO] [1549230580.949773847]: Plugin waypoint initialized\r\n[ INFO] [1549230580.952009307]: Plugin wind_estimation loaded\r\n[ INFO] [1549230580.958665480]: Plugin wind_estimation initialized\r\n[ INFO] [1549230580.959452195]: Built-in SIMD instructions: None\r\n[ INFO] [1549230580.959638757]: Built-in MAVLink package version: 2019.1.12\r\n[ INFO] [1549230580.960072922]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta\r\n[ INFO] [1549230580.960347973]: MAVROS started. MY ID 1.240, TARGET ID 1.1\r\n[ WARN] [1549230581.370432603]: TM : RTT too high for timesync: 18.32 ms.\r\n[ INFO] [1549230581.373451550]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker\r\n[ INFO] [1549230581.390842682]: IMU: Raw IMU message used.\r\n[ INFO] [1549230581.414494883]: RC_CHANNELS message detected!\r\n[ WARN] [1549230581.419266427]: TM: Wrong FCU time.\r\n[ WARN] [1549230581.892165662]: GP: No GPS fix\r\n[ WARN] [1549230581.970393644]: TM : RTT too high for timesync: 18.32 ms.\r\n[ INFO] [1549230582.411291236]: VER: 1.1: Capabilities         0x0000000000001bcf\r\n[ INFO] [1549230582.411491131]: VER: 1.1: Flight software:     030507ff (b11c6af3)\r\n[ INFO] [1549230582.411610557]: VER: 1.1: Middleware software: 00000000 (        )\r\n[ INFO] [1549230582.412268784]: VER: 1.1: OS software:         00000000 (        )\r\n[ INFO] [1549230582.412427638]: VER: 1.1: Board hardware:      00000000\r\n[ INFO] [1549230582.412585710]: VER: 1.1: VID/PID:             0000:0000\r\n[ INFO] [1549230582.412725137]: VER: 1.1: UID:                 0000000000000000\r\n[ WARN] [1549230582.414206641]: CMD: Unexpected command 520, result 0\r\n[ WARN] [1549230582.570400161]: TM : RTT too high for timesync: 17.26 ms.\r\n[ WARN] [1549230583.170376525]: TM : RTT too high for timesync: 17.33 ms.\r\n[ WARN] [1549230583.780370514]: TM : RTT too high for timesync: 27.96 ms.\r\n[ WARN] [1549230584.370441457]: TM : RTT too high for timesync: 17.71 ms.\r\n[ WARN] [1549230584.970423096]: TM : RTT too high for timesync: 18.31 ms.\r\n[ WARN] [1549230585.570379274]: TM : RTT too high for timesync: 17.64 ms.\r\n[ WARN] [1549230586.170428371]: TM : RTT too high for timesync: 18.19 ms.\r\n[ WARN] [1549230586.780420145]: TM : RTT too high for timesync: 28.27 ms.\r\n[ WARN] [1549230587.370446478]: TM : RTT too high for timesync: 17.71 ms.\r\n[ WARN] [1549230587.970427099]: TM : RTT too high for timesync: 17.70 ms.\r\n[ WARN] [1549230588.570409968]: TM : RTT too high for timesync: 17.66 ms.\r\n[ WARN] [1549230589.170415808]: TM : RTT too high for timesync: 18.29 ms.\r\n[ WARN] [1549230589.780406982]: TM : RTT too high for timesync: 28.17 ms.\r\n[ WARN] [1549230590.370379588]: TM : RTT too high for timesync: 17.41 ms.\r\n[ WARN] [1549230590.970414921]: TM : RTT too high for timesync: 17.67 ms.\r\n[ INFO] [1549230591.375368220]: HP: requesting home position\r\n[ INFO] [1549230591.390904465]: FCU: APM:Copter V3.5.7 (b11c6af3)\r\n[ INFO] [1549230591.392083419]: FCU: Frame: QUAD\r\n[ WARN] [1549230591.793469023]: TM : RTT too high for timesync: 241.31 ms.\r\n[ INFO] [1549230592.181060566]: PR: parameters list received\r\n[ WARN] [1549230592.183094152]: TM : RTT too high for timesync: 30.91 ms.\r\n[ WARN] [1549230592.780377844]: TM : RTT too high for timesync: 28.07 ms.\r\n[ WARN] [1549230593.370444588]: TM : RTT too high for timesync: 18.17 ms.\r\n[ WARN] [1549230593.970415778]: TM : RTT too high for timesync: 17.61 ms.\r\n[ WARN] [1549230594.570453121]: TM : RTT too high for timesync: 18.36 ms.\r\n[ WARN] [1549230595.170421039]: TM : RTT too high for timesync: 18.20 ms.\r\n[ WARN] [1549230595.780369760]: TM : RTT too high for timesync: 28.23 ms.\r\n[ WARN] [1549230596.370427621]: TM : RTT too high for timesync: 18.02 ms.\r\n[ INFO] [1549230596.391036036]: WP: mission received\r\n[ WARN] [1549230596.970419615]: TM : RTT too high for timesync: 18.31 ms.\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\npi@AirStone:~/Workspace/dronekit/Python $ rostopic echo -n1 /diagnostics\r\nheader: \r\n  seq: 5195\r\n  stamp: \r\n    secs: 1549234058\r\n    nsecs: 462033853\r\n  frame_id: ''\r\nstatus: \r\n  - \r\n    level: 0\r\n    name: \"mavros: FCU connection\"\r\n    message: \"connected\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Received packets:\"\r\n        value: \"11947\"\r\n      - \r\n        key: \"Dropped packets:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Buffer overruns:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Parse errors:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Rx sequence number:\"\r\n        value: \"167\"\r\n      - \r\n        key: \"Tx sequence number:\"\r\n        value: \"110\"\r\n      - \r\n        key: \"Rx total bytes:\"\r\n        value: \"8428847\"\r\n      - \r\n        key: \"Tx total bytes:\"\r\n        value: \"1162066\"\r\n      - \r\n        key: \"Rx speed:\"\r\n        value: \"4627.000000\"\r\n      - \r\n        key: \"Tx speed:\"\r\n        value: \"494.000000\"\r\n  - \r\n    level: 2\r\n    name: \"mavros: GPS\"\r\n    message: \"No satellites\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Satellites visible\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Fix type\"\r\n        value: \"0\"\r\n      - \r\n        key: \"EPH (m)\"\r\n        value: \"99.99\"\r\n      - \r\n        key: \"EPV (m)\"\r\n        value: \"0.00\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Heartbeat\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Heartbeats since startup\"\r\n        value: \"3478\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"1.000009\"\r\n      - \r\n        key: \"Vehicle type\"\r\n        value: \"Quadrotor\"\r\n      - \r\n        key: \"Autopilot type\"\r\n        value: \"ArduPilot - Plane/Copter/Rover/Sub/Tracker\"\r\n      - \r\n        key: \"Mode\"\r\n        value: \"STABILIZE\"\r\n      - \r\n        key: \"System status\"\r\n        value: \"Standby\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: System\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Sensor present\"\r\n        value: \"0x0361FC0F\"\r\n      - \r\n        key: \"Sensor enabled\"\r\n        value: \"0x02619C0F\"\r\n      - \r\n        key: \"Sensor helth\"\r\n        value: \"0x0361FC0F\"\r\n      - \r\n        key: \"3D gyro\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"3D accelerometer\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"3D magnetometer\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"absolute pressure\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"3D angular rate control\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"attitude stabilization\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"yaw position\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"motor outputs / control\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"rc receiver\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"AHRS subsystem health\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"Terrain subsystem health\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"Battery\"\r\n        value: \"Ok\"\r\n      - \r\n        key: \"CPU Load (%)\"\r\n        value: \"9.0\"\r\n      - \r\n        key: \"Drop rate (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Errors comm\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #1\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #2\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #3\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #4\"\r\n        value: \"0\"\r\n  - \r\n    level: 1\r\n    name: \"mavros: Battery\"\r\n    message: \"Low voltage\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Voltage\"\r\n        value: \"0.00\"\r\n      - \r\n        key: \"Current\"\r\n        value: \"-18.0\"\r\n      - \r\n        key: \"Remaining\"\r\n        value: \"-7.0\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Time Sync\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values: \r\n      - \r\n        key: \"Timesyncs since startup\"\r\n        value: \"34574\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"10.000100\"\r\n      - \r\n        key: \"Last RTT (ms)\"\r\n        value: \"17.891452\"\r\n      - \r\n        key: \"Mean RTT (ms)\"\r\n        value: \"18.644012\"\r\n      - \r\n        key: \"Last remote time (s)\"\r\n        value: \"4228.218858000\"\r\n      - \r\n        key: \"Estimated time offset (s)\"\r\n        value: \"0.000000000\"\r\n---\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nOK. I got messages from 1:1.\r\n\r\n---\r\nReceived 1443 messages, from 1 addresses\r\nsys:comp   list of messages\r\n  1:1     0, 1, 2, 150, 65, 152, 147, 22, 24, 27, 29, 30, 33, 163, 36, 165, 42, 178, 182, 62, 193, 74, 77, 35, 111, 241, 116, 125\r\nException in thread Thread-2 (most likely raised during interpreter shutdown):Unhandled exception in thread started by \r\nsys.excepthook is missing\r\nlost sys.stderr\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/registration.py\", line 275, in start\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/registration.py\", line 307, in run\r\n  File \"/usr/lib/python2.7/threading.py\", line 203, in release\r\n<type 'exceptions.TypeError'>: 'NoneType' object is not callableException in thread Thread-4 (most likely raised during interpreter shutdown):\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/timer.py\", line 235, in run\r\n  File \"/home/pi/catkin_ws/src/mavros/mavros/scripts/checkid\", line 90, in timer_cb\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/core.py\", line 493, in signal_shutdown\r\n  File \"/usr/lib/python2.7/threading.py\", line 946, in join\r\n```\r\n### Python Script for Publishing the Setpoint Attitude Thrust\r\n\r\n```\r\nimport rospy\r\nfrom mavros_msgs.srv import SetMode\r\nfrom mavros_msgs.srv import CommandBool\r\nfrom mavros_msgs.srv import CommandTOL\r\nfrom mavros_msgs.msg import Thrust\r\nimport time\r\n\r\npub = rospy.Publisher('/mavros/setpoint_attitude/thrust', Thrust, queue_size=10)\r\nrospy.init_node('mavros_takeoff_python')\r\nrate = rospy.Rate(10)\r\n\r\n# Set Mode\r\nprint \"\\nSetting Mode\"\r\nrospy.wait_for_service('/mavros/set_mode')\r\ntry:\r\n    change_mode = rospy.ServiceProxy('/mavros/set_mode', SetMode)\r\n    response = change_mode(custom_mode=\"GUIDED_NOGPS\")\r\n    rospy.loginfo(response)\r\nexcept rospy.ServiceException as e:\r\n    print(\"Set mode failed: %s\" %e)\r\n\r\n# Arm\r\nprint \"\\nArming\"\r\nrospy.wait_for_service('/mavros/cmd/arming')\r\ntry:\r\n    arming_cl = rospy.ServiceProxy('/mavros/cmd/arming', CommandBool)\r\n    response = arming_cl(value = True)\r\n    rospy.loginfo(response)\r\nexcept rospy.ServiceException as e:\r\n    print(\"Arming failed: %s\" %e)\r\n\r\n# Takeoff\r\n\r\nthrust = Thrust()\r\nthrust.thrust = 0.6\r\nwhile not rospy.is_shutdown():\r\n        rospy.loginfo(thrust)\r\n        pub.publish(thrust)\r\n        rate.sleep()\r\n```\r\n\r\n### Output on Rostopic Echo on /mavros/setpoint_attitude/thrust when Python script is launched\r\n\r\n```\r\npi@AirStone:~/Workspace/dronekit/Python $ python hover-land.py \r\n\r\nSetting Mode\r\n[INFO] [1549234644.448172]: mode_sent: True\r\n\r\nArming\r\n[INFO] [1549234644.482689]: success: True\r\nresult: 0\r\n[INFO] [1549234644.488615]: header: \r\n  seq: 0\r\n  stamp: \r\n    secs: 0\r\n    nsecs:         0\r\n  frame_id: ''\r\nthrust: 0.6\r\n[INFO] [1549234644.519898]: header: \r\n  seq: 0\r\n  stamp: \r\n    secs: 0\r\n    nsecs:         0\r\n  frame_id: ''\r\nthrust: 0.6\r\n[INFO] [1549234644.619861]: header: \r\n  seq: 0\r\n  stamp: \r\n    secs: 0\r\n    nsecs:         0\r\n  frame_id: ''\r\nthrust: 0.6\r\n[INFO] [1549234644.720081]: header: \r\n  seq: 1\r\n  stamp: \r\n    secs: 0\r\n    nsecs:         0\r\n  frame_id: ''\r\nthrust: 0.6\r\n```\r\n\r\nPlease help fixing this issue. We are currently on a time crunch and would appreciate all the help possible."
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels: []
- url: 'https://github.com/mavlink/mavros/pull/1167'
  title: added tf2_eigen to dependencies
  body: "As stated in #1166 mavros_extras does not build with \r\n`catkin build`\r\nbecause odom.cpp includes tf2_eigen headers, but tf2_eigen is not listed as dependency. This PR fixes the issue."
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - build error
    - extras
    - fix
- url: 'https://github.com/mavlink/mavros/issues/1166'
  title: mavros_extras does not build with catkin_tools due to missing tf2_eigen
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\n\r\nIf you are building from source, mavros_extras does not build when using catkin tools.\r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.18.4\r\nROS: Kinetic\r\nRaspbian Stretch\r\n\r\n### catkin build output\r\n\r\n```\r\n/usr/bin/cmake -H/home/pi/ros_catkin_ws/src/mavros/mavros_extras -B/home/pi/ros_catkin_ws/build/mavros_extras --check-build-system CMakeFiles/Makefile.cmake 0\r\n/usr/bin/cmake -E cmake_progress_start /home/pi/ros_catkin_ws/build/mavros_extras/CMakeFiles /home/pi/ros_catkin_ws/build/mavros_extras/CMakeFiles/progress.marks\r\n/usr/bin/make -f CMakeFiles/Makefile2 all\r\nmake[1]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\n/usr/bin/make -f CMakeFiles/copter_visualization.dir/build.make CMakeFiles/copter_visualization.dir/depend\r\n/usr/bin/make -f CMakeFiles/mavros_extras.dir/build.make CMakeFiles/mavros_extras.dir/depend\r\n/usr/bin/make -f CMakeFiles/servo_state_publisher.dir/build.make CMakeFiles/servo_state_publisher.dir/depend\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\ncd /home/pi/ros_catkin_ws/build/mavros_extras && /usr/bin/cmake -E cmake_depends \"Unix Makefiles\" /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras/CMakeFiles/copter_visualization.dir/DependInfo.cmake --color=\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\ncd /home/pi/ros_catkin_ws/build/mavros_extras && /usr/bin/cmake -E cmake_depends \"Unix Makefiles\" /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras/CMakeFiles/servo_state_publisher.dir/DependInfo.cmake --color=\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\n/usr/bin/make -f CMakeFiles/copter_visualization.dir/build.make CMakeFiles/copter_visualization.dir/build\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\n/usr/bin/make -f CMakeFiles/servo_state_publisher.dir/build.make CMakeFiles/servo_state_publisher.dir/build\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\nmake[2]: Für das Ziel „CMakeFiles/copter_visualization.dir/build“ ist nichts zu tun.\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\nmake[2]: Für das Ziel „CMakeFiles/servo_state_publisher.dir/build“ ist nichts zu tun.\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\n[  9%] Built target copter_visualization\r\n[ 18%] Built target servo_state_publisher\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\ncd /home/pi/ros_catkin_ws/build/mavros_extras && /usr/bin/cmake -E cmake_depends \"Unix Makefiles\" /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/src/mavros/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras /home/pi/ros_catkin_ws/build/mavros_extras/CMakeFiles/mavros_extras.dir/DependInfo.cmake --color=\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\n/usr/bin/make -f CMakeFiles/mavros_extras.dir/build.make CMakeFiles/mavros_extras.dir/build\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird betreten\r\n[ 22%] \e[32mBuilding CXX object CMakeFiles/mavros_extras.dir/src/plugins/fake_gps.cpp.o\e[0m\r\n/usr/bin/c++   -DROSCONSOLE_BACKEND_LOG4CXX -DROS_PACKAGE_NAME=\\\"mavros_extras\\\" -Dmavros_extras_EXPORTS -I/home/pi/ros_catkin_ws/devel/.private/diagnostic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/std_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include/ros -I/home/pi/ros_catkin_ws/devel/.private/rosgraph_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/sensor_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geometry_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/nav_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geographic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/uuid_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib/include -I/home/pi/ros_catkin_ws/devel/.private/tf2_msgs/include -I/home/pi/ros_catkin_ws/devel/include -I/home/pi/ros_catkin_ws/devel/.private/mavros_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/visualization_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/urdf/include -I/home/pi/ros_catkin_ws/devel/.private/tf/include -I/home/pi/ros_catkin_ws/src/class_loader/include -I/home/pi/ros_catkin_ws/src/roscpp_core/cpp_common/include -I/home/pi/ros_catkin_ws/src/mavros/libmavconn/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_traits/include -I/home/pi/ros_catkin_ws/src/rospack/include -I/home/pi/ros_catkin_ws/src/ros/roslib/include -I/home/pi/ros_catkin_ws/src/roscpp_core/rostime/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_serialization/include -I/home/pi/ros_catkin_ws/src/ros_comm/rosconsole/include -I/home/pi/ros_catkin_ws/src/pluginlib/include -I/home/pi/ros_catkin_ws/src/rosconsole_bridge/include -I/home/pi/ros_catkin_ws/src/std_msgs/include -I/home/pi/ros_catkin_ws/src/geometry/eigen_conversions/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include/xmlrpcpp -I/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include -I/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include -I/home/pi/ros_catkin_ws/src/ros_comm/message_filters/include -I/home/pi/ros_catkin_ws/src/actionlib/include -I/home/pi/ros_catkin_ws/src/common_msgs/sensor_msgs/include -I/home/pi/ros_catkin_ws/src/mavros/mavros_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_ros/include -I/home/pi/ros_catkin_ws/src/mavros/mavros/include -I/home/pi/ros_catkin_ws/src/geometry/tf/include -I/home/pi/ros_catkin_ws/src/urdf/urdf/include -I/usr/include/eigen3  -std=c++14 -fPIC   -o CMakeFiles/mavros_extras.dir/src/plugins/fake_gps.cpp.o -c /home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/fake_gps.cpp\r\n[ 27%] \e[32mBuilding CXX object CMakeFiles/mavros_extras.dir/src/plugins/odom.cpp.o\e[0m\r\n/usr/bin/c++   -DROSCONSOLE_BACKEND_LOG4CXX -DROS_PACKAGE_NAME=\\\"mavros_extras\\\" -Dmavros_extras_EXPORTS -I/home/pi/ros_catkin_ws/devel/.private/diagnostic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/std_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include/ros -I/home/pi/ros_catkin_ws/devel/.private/rosgraph_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/sensor_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geometry_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/nav_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geographic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/uuid_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib/include -I/home/pi/ros_catkin_ws/devel/.private/tf2_msgs/include -I/home/pi/ros_catkin_ws/devel/include -I/home/pi/ros_catkin_ws/devel/.private/mavros_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/visualization_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/urdf/include -I/home/pi/ros_catkin_ws/devel/.private/tf/include -I/home/pi/ros_catkin_ws/src/class_loader/include -I/home/pi/ros_catkin_ws/src/roscpp_core/cpp_common/include -I/home/pi/ros_catkin_ws/src/mavros/libmavconn/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_traits/include -I/home/pi/ros_catkin_ws/src/rospack/include -I/home/pi/ros_catkin_ws/src/ros/roslib/include -I/home/pi/ros_catkin_ws/src/roscpp_core/rostime/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_serialization/include -I/home/pi/ros_catkin_ws/src/ros_comm/rosconsole/include -I/home/pi/ros_catkin_ws/src/pluginlib/include -I/home/pi/ros_catkin_ws/src/rosconsole_bridge/include -I/home/pi/ros_catkin_ws/src/std_msgs/include -I/home/pi/ros_catkin_ws/src/geometry/eigen_conversions/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include/xmlrpcpp -I/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include -I/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include -I/home/pi/ros_catkin_ws/src/ros_comm/message_filters/include -I/home/pi/ros_catkin_ws/src/actionlib/include -I/home/pi/ros_catkin_ws/src/common_msgs/sensor_msgs/include -I/home/pi/ros_catkin_ws/src/mavros/mavros_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_ros/include -I/home/pi/ros_catkin_ws/src/mavros/mavros/include -I/home/pi/ros_catkin_ws/src/geometry/tf/include -I/home/pi/ros_catkin_ws/src/urdf/urdf/include -I/usr/include/eigen3  -std=c++14 -fPIC   -o CMakeFiles/mavros_extras.dir/src/plugins/odom.cpp.o -c /home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/odom.cpp\r\n[ 31%] \e[32mBuilding CXX object CMakeFiles/mavros_extras.dir/src/plugins/rangefinder.cpp.o\e[0m\r\n[ 36%] \e[32mBuilding CXX object CMakeFiles/mavros_extras.dir/src/plugins/px4flow.cpp.o\e[0m\r\n/usr/bin/c++   -DROSCONSOLE_BACKEND_LOG4CXX -DROS_PACKAGE_NAME=\\\"mavros_extras\\\" -Dmavros_extras_EXPORTS -I/home/pi/ros_catkin_ws/devel/.private/diagnostic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/std_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include/ros -I/home/pi/ros_catkin_ws/devel/.private/rosgraph_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/sensor_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geometry_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/nav_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geographic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/uuid_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib/include -I/home/pi/ros_catkin_ws/devel/.private/tf2_msgs/include -I/home/pi/ros_catkin_ws/devel/include -I/home/pi/ros_catkin_ws/devel/.private/mavros_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/visualization_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/urdf/include -I/home/pi/ros_catkin_ws/devel/.private/tf/include -I/home/pi/ros_catkin_ws/src/class_loader/include -I/home/pi/ros_catkin_ws/src/roscpp_core/cpp_common/include -I/home/pi/ros_catkin_ws/src/mavros/libmavconn/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_traits/include -I/home/pi/ros_catkin_ws/src/rospack/include -I/home/pi/ros_catkin_ws/src/ros/roslib/include -I/home/pi/ros_catkin_ws/src/roscpp_core/rostime/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_serialization/include -I/home/pi/ros_catkin_ws/src/ros_comm/rosconsole/include -I/home/pi/ros_catkin_ws/src/pluginlib/include -I/home/pi/ros_catkin_ws/src/rosconsole_bridge/include -I/home/pi/ros_catkin_ws/src/std_msgs/include -I/home/pi/ros_catkin_ws/src/geometry/eigen_conversions/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include/xmlrpcpp -I/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include -I/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include -I/home/pi/ros_catkin_ws/src/ros_comm/message_filters/include -I/home/pi/ros_catkin_ws/src/actionlib/include -I/home/pi/ros_catkin_ws/src/common_msgs/sensor_msgs/include -I/home/pi/ros_catkin_ws/src/mavros/mavros_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_ros/include -I/home/pi/ros_catkin_ws/src/mavros/mavros/include -I/home/pi/ros_catkin_ws/src/geometry/tf/include -I/home/pi/ros_catkin_ws/src/urdf/urdf/include -I/usr/include/eigen3  -std=c++14 -fPIC   -o CMakeFiles/mavros_extras.dir/src/plugins/rangefinder.cpp.o -c /home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/rangefinder.cpp\r\n/usr/bin/c++   -DROSCONSOLE_BACKEND_LOG4CXX -DROS_PACKAGE_NAME=\\\"mavros_extras\\\" -Dmavros_extras_EXPORTS -I/home/pi/ros_catkin_ws/devel/.private/diagnostic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/std_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include -I/home/pi/ros_catkin_ws/devel/.private/roscpp/include/ros -I/home/pi/ros_catkin_ws/devel/.private/rosgraph_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/sensor_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geometry_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/nav_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/geographic_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/uuid_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/actionlib/include -I/home/pi/ros_catkin_ws/devel/.private/tf2_msgs/include -I/home/pi/ros_catkin_ws/devel/include -I/home/pi/ros_catkin_ws/devel/.private/mavros_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/visualization_msgs/include -I/home/pi/ros_catkin_ws/devel/.private/urdf/include -I/home/pi/ros_catkin_ws/devel/.private/tf/include -I/home/pi/ros_catkin_ws/src/class_loader/include -I/home/pi/ros_catkin_ws/src/roscpp_core/cpp_common/include -I/home/pi/ros_catkin_ws/src/mavros/libmavconn/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_traits/include -I/home/pi/ros_catkin_ws/src/rospack/include -I/home/pi/ros_catkin_ws/src/ros/roslib/include -I/home/pi/ros_catkin_ws/src/roscpp_core/rostime/include -I/home/pi/ros_catkin_ws/src/roscpp_core/roscpp_serialization/include -I/home/pi/ros_catkin_ws/src/ros_comm/rosconsole/include -I/home/pi/ros_catkin_ws/src/pluginlib/include -I/home/pi/ros_catkin_ws/src/rosconsole_bridge/include -I/home/pi/ros_catkin_ws/src/std_msgs/include -I/home/pi/ros_catkin_ws/src/geometry/eigen_conversions/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include -I/home/pi/ros_catkin_ws/src/ros_comm/xmlrpcpp/include/xmlrpcpp -I/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include -I/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include -I/home/pi/ros_catkin_ws/src/ros_comm/message_filters/include -I/home/pi/ros_catkin_ws/src/actionlib/include -I/home/pi/ros_catkin_ws/src/common_msgs/sensor_msgs/include -I/home/pi/ros_catkin_ws/src/mavros/mavros_msgs/include -I/home/pi/ros_catkin_ws/src/geometry2/tf2_ros/include -I/home/pi/ros_catkin_ws/src/mavros/mavros/include -I/home/pi/ros_catkin_ws/src/geometry/tf/include -I/home/pi/ros_catkin_ws/src/urdf/urdf/include -I/usr/include/eigen3  -std=c++14 -fPIC   -o CMakeFiles/mavros_extras.dir/src/plugins/px4flow.cpp.o -c /home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/px4flow.cpp\r\n\e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/odom.cpp:20:33:\e[m\e[K \e[01;31m\e[Kfatal error: \e[m\e[Ktf2_eigen/tf2_eigen.h: Datei oder Verzeichnis nicht gefunden\r\n #include <tf2_eigen/tf2_eigen.h>\r\n                                 \e[01;31m\e[K^\e[m\e[K\r\ncompilation terminated.\r\nCMakeFiles/mavros_extras.dir/build.make:302: die Regel für Ziel „CMakeFiles/mavros_extras.dir/src/plugins/odom.cpp.o“ scheiterte\r\nmake[2]: *** [CMakeFiles/mavros_extras.dir/src/plugins/odom.cpp.o] Fehler 1\r\nmake[2]: *** Es wird auf noch nicht beendete Prozesse gewartet...\r\nIn file included from \e[01m\e[K/usr/include/boost/bind.hpp:22:0\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/publisher.h:35\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/node_handle.h:32\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include/diagnostic_updater/diagnostic_updater.h:42\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros/include/mavros/mavros_plugin.h:23\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/px4flow.cpp:19\e[m\e[K:\r\n\e[01m\e[K/usr/include/boost/bind/bind_cc.hpp:\e[m\e[K In function ‘\e[01m\e[Kboost::_bi::bind_t<R, R (*)(B1), typename boost::_bi::list_av_1<A1>::type> boost::bind(R (*)(B1), A1) [with R = ros::SerializedMessage; B1 = const sensor_msgs::Temperature_<std::allocator<void> >&; A1 = boost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >]\e[m\e[K’:\r\n\e[01m\e[K/usr/include/boost/bind/bind_cc.hpp:26:5:\e[m\e[K \e[01;36m\e[Knote: \e[m\e[Kparameter passing for argument of type ‘\e[01m\e[Kboost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >\e[m\e[K’ will change in GCC 7.1\r\n     \e[01;36m\e[KB\e[m\e[KOOST_BIND(BOOST_BIND_ST R (BOOST_BIND_CC *f) (B1), A1 a1)\r\n     \e[01;36m\e[K^\e[m\e[K\r\nIn file included from \e[01m\e[K/usr/include/boost/bind/bind.hpp:2126:0\e[m\e[K,\r\n                 from \e[01m\e[K/usr/include/boost/bind.hpp:22\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/publisher.h:35\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/node_handle.h:32\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include/diagnostic_updater/diagnostic_updater.h:42\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros/include/mavros/mavros_plugin.h:23\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/px4flow.cpp:19\e[m\e[K:\r\n\e[01m\e[K/usr/include/boost/bind/bind_cc.hpp:30:58:\e[m\e[K \e[01;36m\e[Knote: \e[m\e[Kparameter passing for argument of type ‘\e[01m\e[Kboost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >\e[m\e[K’ will change in GCC 7.1\r\n     return _bi::bind_t<R, F, list_type> (f, list_type(a1)\e[01;36m\e[K)\e[m\e[K;\r\n                                                          \e[01;36m\e[K^\e[m\e[K\r\nIn file included from \e[01m\e[K/usr/include/boost/bind.hpp:22:0\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/publisher.h:35\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/node_handle.h:32\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include/diagnostic_updater/diagnostic_updater.h:42\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros/include/mavros/mavros_plugin.h:23\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/px4flow.cpp:19\e[m\e[K:\r\n\e[01m\e[K/usr/include/boost/bind/bind.hpp:\e[m\e[K In constructor ‘\e[01m\e[Kboost::_bi::list1<A1>::list1(A1) [with A1 = boost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >]\e[m\e[K’:\r\n\e[01m\e[K/usr/include/boost/bind/bind.hpp:231:14:\e[m\e[K \e[01;36m\e[Knote: \e[m\e[Kparameter passing for argument of type ‘\e[01m\e[Kboost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >\e[m\e[K’ will change in GCC 7.1\r\n     explicit \e[01;36m\e[Klist1\e[m\e[K( A1 a1 ): base_type( a1 ) {}\r\n              \e[01;36m\e[K^~~~~\e[m\e[K\r\n\e[01m\e[K/usr/include/boost/bind/bind.hpp:231:44:\e[m\e[K \e[01;36m\e[Knote: \e[m\e[Kparameter passing for argument of type ‘\e[01m\e[Kboost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >\e[m\e[K’ will change in GCC 7.1\r\n     explicit list1( A1 a1 ): base_type( a1 \e[01;36m\e[K)\e[m\e[K {}\r\n                                            \e[01;36m\e[K^\e[m\e[K\r\nIn file included from \e[01m\e[K/usr/include/boost/bind/bind.hpp:47:0\e[m\e[K,\r\n                 from \e[01m\e[K/usr/include/boost/bind.hpp:22\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/publisher.h:35\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/ros_comm/roscpp/include/ros/node_handle.h:32\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/diagnostics/diagnostic_updater/include/diagnostic_updater/diagnostic_updater.h:42\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros/include/mavros/mavros_plugin.h:23\e[m\e[K,\r\n                 from \e[01m\e[K/home/pi/ros_catkin_ws/src/mavros/mavros_extras/src/plugins/px4flow.cpp:19\e[m\e[K:\r\n\e[01m\e[K/usr/include/boost/bind/storage.hpp:\e[m\e[K In constructor ‘\e[01m\e[Kboost::_bi::storage1<A1>::storage1(A1) [with A1 = boost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >]\e[m\e[K’:\r\n\e[01m\e[K/usr/include/boost/bind/storage.hpp:42:14:\e[m\e[K \e[01;36m\e[Knote: \e[m\e[Kparameter passing for argument of type ‘\e[01m\e[Kboost::reference_wrapper<sensor_msgs::Temperature_<std::allocator<void> > >\e[m\e[K’ will change in GCC 7.1\r\n     explicit \e[01;36m\e[Kstorage1\e[m\e[K( A1 a1 ): a1_( a1 ) {}\r\n              \e[01;36m\e[K^~~~~~~~\e[m\e[K\r\nmake[2]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\nCMakeFiles/Makefile2:1096: die Regel für Ziel „CMakeFiles/mavros_extras.dir/all“ scheiterte\r\nmake[1]: *** [CMakeFiles/mavros_extras.dir/all] Fehler 2\r\nmake[1]: Verzeichnis „/home/pi/ros_catkin_ws/build/mavros_extras“ wird verlassen\r\nMakefile:138: die Regel für Ziel „all“ scheiterte\r\nmake: *** [all] Fehler 2\r\n```\r\nAdding tf2_eigen to CMakeLists.txt resolves this error.\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
    - build error
    - extras
    - fix
- url: 'https://github.com/mavlink/mavros/issues/1159'
  title: >-
    0.28.0 regression: topic /mavros/local_position/velocity now in drone
    rotation frame
  body: "### Issue details\r\n\r\nWith PX4/Avoidance running in SITL, the drone velocity is reported in the local co-ordinate frame (ie. rotated to the drone). We see this causing multiple issues with trying to follow a position setpoint from the avoidance, as we have a bias East no matter what direction we are flying.\r\n\r\nPreviously in 0.27.0 the velocity at /mavros/local_position/velocity was in the local reference frame, not the drone reference frame.\r\n\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: 0.28.0\r\nROS: Kinetic\r\nUbuntu: 16.04\r\n\r\n\r\n### Autopilot type and version\r\n\r\nSITL / PX4\r\n\r\n\r\n\r\n### Node logs\r\n\r\n```\r\nSUMMARY\r\n========\r\n\r\nCLEAR PARAMETERS\r\n * /mavros/\r\n\r\nPARAMETERS\r\n * /factor_close_to_goal_start_speed_limitation: 3.0\r\n * /factor_close_to_goal_stop_speed_limitation: 4.0\r\n * /goal_acceptance_radius_in: 0.5\r\n * /goal_acceptance_radius_out: 1.5\r\n * /local_planner_node/goal_x_param: 17\r\n * /local_planner_node/goal_y_param: 15\r\n * /local_planner_node/goal_z_param: 3\r\n * /local_planner_node/pointcloud_topics: ['/camera_front/d...\r\n * /local_planner_node/world_name: /home/julian/catk...\r\n * /mavros/cmd/use_comp_id_system_control: False\r\n * /mavros/conn/heartbeat_rate: 1.0\r\n * /mavros/conn/system_time_rate: 1.0\r\n * /mavros/conn/timeout: 10.0\r\n * /mavros/conn/timesync_rate: 10.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/frame_id: hrlv_ez4_sonar\r\n * /mavros/distance_sensor/hrlv_ez4_pub/id: 0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/orientation: ROLL_180\r\n * /mavros/distance_sensor/hrlv_ez4_pub/send_tf: True\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/hrlv_ez4_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/laser_1_sub/id: 3\r\n * /mavros/distance_sensor/laser_1_sub/orientation: ROLL_180\r\n * /mavros/distance_sensor/laser_1_sub/subscriber: True\r\n * /mavros/distance_sensor/lidarlite_pub/field_of_view: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/frame_id: lidarlite_laser\r\n * /mavros/distance_sensor/lidarlite_pub/id: 1\r\n * /mavros/distance_sensor/lidarlite_pub/orientation: ROLL_180\r\n * /mavros/distance_sensor/lidarlite_pub/send_tf: True\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/x: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/y: 0.0\r\n * /mavros/distance_sensor/lidarlite_pub/sensor_position/z: -0.1\r\n * /mavros/distance_sensor/sonar_1_sub/id: 2\r\n * /mavros/distance_sensor/sonar_1_sub/orientation: ROLL_180\r\n * /mavros/distance_sensor/sonar_1_sub/subscriber: True\r\n * /mavros/fcu_protocol: v2.0\r\n * /mavros/fcu_url: udp://:14540@loca...\r\n * /mavros/gcs_url: \r\n * /mavros/global_position/frame_id: fcu\r\n * /mavros/global_position/rot_covariance: 99999.0\r\n * /mavros/global_position/tf/child_frame_id: fcu_utm\r\n * /mavros/global_position/tf/frame_id: local_origin\r\n * /mavros/global_position/tf/send: False\r\n * /mavros/image/frame_id: px4flow\r\n * /mavros/imu/angular_velocity_stdev: 0.000349065850399\r\n * /mavros/imu/frame_id: fcu\r\n * /mavros/imu/linear_acceleration_stdev: 0.0003\r\n * /mavros/imu/magnetic_stdev: 0.0\r\n * /mavros/imu/orientation_stdev: 1.0\r\n * /mavros/local_position/frame_id: local_origin\r\n * /mavros/local_position/tf/child_frame_id: fcu\r\n * /mavros/local_position/tf/frame_id: local_origin\r\n * /mavros/local_position/tf/send: True\r\n * /mavros/local_position/tf/send_fcu: False\r\n * /mavros/mission/pull_after_gcs: True\r\n * /mavros/mocap/use_pose: False\r\n * /mavros/mocap/use_tf: True\r\n * /mavros/plugin_blacklist: ['safety_area', '...\r\n * /mavros/plugin_whitelist: []\r\n * /mavros/px4flow/frame_id: px4flow\r\n * /mavros/px4flow/ranger_fov: 0.0\r\n * /mavros/px4flow/ranger_max_range: 5.0\r\n * /mavros/px4flow/ranger_min_range: 0.3\r\n * /mavros/safety_area/p1/x: 1.0\r\n * /mavros/safety_area/p1/y: 1.0\r\n * /mavros/safety_area/p1/z: 1.0\r\n * /mavros/safety_area/p2/x: -1.0\r\n * /mavros/safety_area/p2/y: -1.0\r\n * /mavros/safety_area/p2/z: -1.0\r\n * /mavros/setpoint_accel/send_force: False\r\n * /mavros/setpoint_attitude/reverse_throttle: False\r\n * /mavros/setpoint_attitude/tf/child_frame_id: attitude\r\n * /mavros/setpoint_attitude/tf/frame_id: local_origin\r\n * /mavros/setpoint_attitude/tf/listen: False\r\n * /mavros/setpoint_attitude/tf/rate_limit: 10.0\r\n * /mavros/setpoint_position/tf/child_frame_id: setpoint\r\n * /mavros/setpoint_position/tf/frame_id: local_origin\r\n * /mavros/setpoint_position/tf/listen: False\r\n * /mavros/setpoint_position/tf/rate_limit: 50.0\r\n * /mavros/startup_px4_usb_quirk: True\r\n * /mavros/sys/disable_diag: False\r\n * /mavros/sys/min_voltage: 10.0\r\n * /mavros/target_component_id: 1\r\n * /mavros/target_system_id: 1\r\n * /mavros/tdr_radio/low_rssi: 40\r\n * /mavros/time/time_ref_source: fcu\r\n * /mavros/time/timesync_avg_alpha: 0.6\r\n * /mavros/vibration/frame_id: vibration\r\n * /mavros/vision_pose/tf/child_frame_id: vision\r\n * /mavros/vision_pose/tf/frame_id: local_origin\r\n * /mavros/vision_pose/tf/listen: False\r\n * /mavros/vision_pose/tf/rate_limit: 10.0\r\n * /mavros/vision_speed/listen_twist: False\r\n * /max_speed_close_to_goal_factor: 0.1\r\n * /min_speed_close_to_goal: 0.5\r\n * /rosdistro: kinetic\r\n * /rosversion: 1.12.14\r\n * /use_sim_time: True\r\n\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\njulian@julian-ThinkPad-T470p:~/catkin_ws/src/mavros$ rostopic echo -n1 /diagnostics\r\nheader: \r\n  seq: 336\r\n  stamp: \r\n    secs: 332\r\n    nsecs: 500000000\r\n  frame_id: ''\r\nstatus: \r\n  - \r\n    level: 0\r\n    name: \"mavros: FCU connection\"\r\n    message: \"connected\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Received packets:\"\r\n        value: \"27103\"\r\n      - \r\n        key: \"Dropped packets:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Buffer overruns:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Parse errors:\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Rx sequence number:\"\r\n        value: \"223\"\r\n      - \r\n        key: \"Tx sequence number:\"\r\n        value: \"9\"\r\n      - \r\n        key: \"Rx total bytes:\"\r\n        value: \"8617844\"\r\n      - \r\n        key: \"Tx total bytes:\"\r\n        value: \"4351304\"\r\n      - \r\n        key: \"Rx speed:\"\r\n        value: \"inf\"\r\n      - \r\n        key: \"Tx speed:\"\r\n        value: \"inf\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: GPS\"\r\n    message: \"3D fix\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Satellites visible\"\r\n        value: \"10\"\r\n      - \r\n        key: \"Fix type\"\r\n        value: \"3\"\r\n      - \r\n        key: \"EPH (m)\"\r\n        value: \"0.00\"\r\n      - \r\n        key: \"EPV (m)\"\r\n        value: \"0.00\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Heartbeat\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Heartbeats since startup\"\r\n        value: \"331\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"1.000000\"\r\n      - \r\n        key: \"Vehicle type\"\r\n        value: \"Quadrotor\"\r\n      - \r\n        key: \"Autopilot type\"\r\n        value: \"PX4 Autopilot\"\r\n      - \r\n        key: \"Mode\"\r\n        value: \"AUTO.LOITER\"\r\n      - \r\n        key: \"System status\"\r\n        value: \"Standby\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: System\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Sensor present\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor enabled\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"Sensor helth\"\r\n        value: \"0x00000000\"\r\n      - \r\n        key: \"CPU Load (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Drop rate (%)\"\r\n        value: \"0.0\"\r\n      - \r\n        key: \"Errors comm\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #1\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #2\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #3\"\r\n        value: \"0\"\r\n      - \r\n        key: \"Errors count #4\"\r\n        value: \"0\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Battery\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Voltage\"\r\n        value: \"12.15\"\r\n      - \r\n        key: \"Current\"\r\n        value: \"-1.0\"\r\n      - \r\n        key: \"Remaining\"\r\n        value: \"100.0\"\r\n  - \r\n    level: 0\r\n    name: \"mavros: Time Sync\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14540@localhost:14557\"\r\n    values: \r\n      - \r\n        key: \"Timesyncs since startup\"\r\n        value: \"3311\"\r\n      - \r\n        key: \"Frequency (Hz)\"\r\n        value: \"10.000000\"\r\n      - \r\n        key: \"Last RTT (ms)\"\r\n        value: \"0.000000\"\r\n      - \r\n        key: \"Mean RTT (ms)\"\r\n        value: \"0.032618\"\r\n      - \r\n        key: \"Last remote time (s)\"\r\n        value: \"332.292000000\"\r\n      - \r\n        key: \"Estimated time offset (s)\"\r\n        value: \"0.108026510\"\r\n---\r\n\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\njulian@julian-ThinkPad-T470p:~/catkin_ws/src/mavros$ rosrun mavros checkid\r\nOK. I got messages from 1:1.\r\n\r\n---\r\nReceived 7439 messages, from 1 addresses\r\nsys:comp   list of messages\r\n  1:1     0, 1, 2, 4, 140, 141, 147, 22, 24, 132, 26, 30, 31, 32, 33, 36, 39, 42, 44, 74, 331, 76, 83, 340, 87, 230, 105, 111, 241, 242, 245\r\n\r\n```\r\n@TSC21 Perhaps of interest to you"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - bug
- url: 'https://github.com/mavlink/mavros/issues/1158'
  title: 'Setpoint_Position/Local Position Control: Relative Positioning '
  body: "----\r\n\r\n### Issue details\r\n\r\nHello Everyone,\r\nI am attempting to control a quadcopter‘s position using a camera to move to a target using the difference between the current location of the drone and the centroid of a target. To do this, I am using the current position from `~local_position/pose`, and subtracting a value from the current position that would then be published to `~setpoint_position/local`.  \r\nThe problem is the position value from `~local_position/pose` resets to approximately (0,0,0) in (x,y,z) when running the script every time, making the `~local_position/pose` values reset. After running the script once, the position from `~local_position/pose` seems to no longer be in the same frame. When publishing to the `~setpoint_position/local` topic, coordinates are published in a coordinate frame with an origin centered at the location of where the flight controller was booted. Although both topics use the ENU coordinate frame, the origin of the `~local_position/pose` position is changed every time the script is run. Is there any possible way to get local position data that does not reset every time a new script is run? \r\nThe posted script replaces the camera data that would be used in lines 146-147 with fixed constant values for testing. When the script is run, the drone moves to (5m,5m,3m) and lands. When the script is run again, it takes off and remains in the same (x,y) position. Other posts suggest changing the apm_config.yaml. Does changing the frame of `~setpoint_position/local` in this configuration file change the frame that the input values are converted to?\r\n\r\n### Code\r\n\t#!/usr/bin/env python\r\n\t# Importing Libraries\r\n\timport mavros\r\n\timport rospy\r\n\timport numpy as np\r\n\timport math\r\n\timport mavros_msgs\r\n\timport time\r\n\tfrom mavros_msgs import srv\r\n\tfrom mavros_msgs.srv import SetMode\r\n\tfrom mavros_msgs.srv import SetModeResponse\r\n\tfrom mavros_msgs.srv import CommandBool\r\n\tfrom mavros_msgs.srv import CommandTOL\r\n\tfrom mavros_msgs.srv import ParamSet\r\n\tfrom mavros_msgs.msg import ParamValue\r\n\tfrom mavros_msgs.msg import State\r\n\tfrom mavros_msgs.msg import OverrideRCIn\r\n\tfrom geometry_msgs.msg import PoseStamped\r\n\tfrom geometry_msgs.msg import TwistStamped\r\n\tfrom sensor_msgs.msg import NavSatFix\r\n\tfrom tf.transformations import quaternion_from_euler\r\n\tfrom std_msgs.msg import String\r\n\t\r\n\t\r\n\talt_set = 2\r\n\tclass Operation(): \r\n\t\t# Staring class Operation \r\n\t\tgoal_pose = PoseStamped() # renaming PoseStamped presumably end position \r\n\t\tset_velocity = TwistStamped() # renaming TwistStamped to set velocity to be used as a structure\r\n\t\tcurrent_state = State() # renaming state which relays if FCU is connected to GCU, armed, and guided\r\n\t\r\n\t\r\n\t\tdef state_callback(self,data):\r\n\t\t\tself.cur_state = data\r\n\t\t\t# Gets state from /mavros/state\r\n\t\r\n\t\tdef pose_sub_callback(self,pose_sub_data):\r\n\t\t\tself.current_pose = pose_sub_data\r\n\t\t\t# Callback function to get current position for FCU   \r\n\t\r\n\t\tdef gps_callback(self,data):\r\n\t\t\tself.gps = data\r\n\t\t\tself.gps_read = True\r\n\t\t\t# Gets GPS data and will set a bool value for read\r\n\t\r\n\t\tdef start_operation(self):\r\n\t\t\trospy.init_node('my_operation', anonymous=True)\t# Starting node for operation \r\n\t\t\tself.gps_read = False # When starting gps read will be sent to false initially\r\n\t\t\tself.localtarget_received = False \r\n\t\t\tr = rospy.Rate(10) # Sents rate to 10Hz\r\n\t\t\trospy.Subscriber(\"/mavros/state\", State, self.state_callback) # Pulling information for mavros/state and sending it to state callback\r\n\t\t\trospy.Subscriber(\"/mavros/global_position/global\", NavSatFix, self.gps_callback) # Pulling GPS information and will not access callback to make gps_read statement true if NavSatFix = -1  \r\n\t\t\t##rospy.Subscriber(\"cv_node\",CV,self.cv_callback)\r\n\t\t\tlocal_position_subscribe = rospy.Subscriber('/mavros/local_position/pose', PoseStamped, self.pose_sub_callback) # Getting current position and sets current_pose to subscribed value\r\n\t\t\tlocal_position_pub = rospy.Publisher('/mavros/setpoint_position/local', PoseStamped, queue_size = 10) \r\n\t\t\tsetpoint_velocity_pub = rospy.Publisher('/mavros/setpoint_velocity/cmd_vel',TwistStamped, queue_size = 10)\r\n\t\t\twhile not self.gps_read:\r\n\t\t\t\tr.sleep()\r\n\t\t\t\r\n\t\t\t# Service Clients\r\n\t\t\tchange_mode = rospy.ServiceProxy('/mavros/set_mode', SetMode) \r\n\t\t\tarm = rospy.ServiceProxy('/mavros/cmd/arming', CommandBool)\r\n\t\t\ttakeoff = rospy.ServiceProxy('/mavros/cmd/takeoff', CommandTOL)\r\n\t\t\tchange_param = rospy.ServiceProxy('/mavros/param/set', ParamSet)\r\n\t\t\tlast_request = rospy.get_rostime()\r\n\t\r\n\t\t\t# Change mode to GUIDED\r\n\t\t\trospy.wait_for_service('/mavros/set_mode')\r\n\t\t\ttry:\r\n\t\t\t\tbase_mode = 0\r\n\t\t\t\tcustom_mode = \"GUIDED\"\r\n\t\t\t\tout = change_mode(base_mode, custom_mode)\r\n\t\t\t\tprint(out)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"GUIDED mode set\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed SetMode\")\r\n\t\t\texcept rospy.ServiceException, e:\r\n\t\t\t\trospy.loginfo(\"Service call failed\")\r\n\t\t\tlast_request = rospy.get_rostime() \r\n\t\t\t\r\n\t\t\twhile not out:\r\n\t\t\t\tr.sleep()\r\n\t\t\t\tout = change_mode(base_mode, custom_mode)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"setmode send ok value\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed SetMode\")\r\n\t\r\n\t\t\t# Arm drone\r\n\t\t\trospy.wait_for_service('/mavros/cmd/arming')\r\n\t\t\ttry:\r\n\t\t\t\tout = arm(True)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"Armed\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed Arming\")\r\n\t\t\texcept rospy.ServiceException, e:\r\n\t\t\t\trospy.loginfo(\"Service call failed\")\r\n\t\t\tlast_request = rospy.get_rostime() \r\n\t\t\t\r\n\t\t\twhile not out:\r\n\t\t\t\tr.sleep()\r\n\t\t\t\tout = arm(True)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"Armed\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed Arming\")\r\n\t\r\n\t\t\t# Take off\r\n\t\t\tcurrent_altitude = self.gps.altitude \r\n\t\t\tprint('\\n Takeoff')\r\n\t\t\trospy.wait_for_service('/mavros/cmd/takeoff')\r\n\t\t\ttry:\t\t\r\n\t\t\t\tmin_pitch = 0\r\n\t\t\t\tyaw = 0\r\n\t\t\t\tlatitude = self.gps.latitude\r\n\t\t\t\tlongitude = self.gps.longitude\r\n\t\t\t\taltitude = alt_set\r\n\t\t\t\tout = takeoff(min_pitch, yaw, latitude, longitude, altitude)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"Took-off\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed taking-off\")\r\n\t\t\texcept rospy.ServiceException, e:\r\n\t\t\t\trospy.loginfo(\"Service call failed\")\r\n\t\t\t\r\n\t\t\t# Keep sending take-off messages until received by FCU\r\n\t\t\twhile not out:\r\n\t\t\t\tr.sleep()\r\n\t\t\t\tout = takeoff(min_pitch, yaw, latitude, longitude, altitude)\r\n\t\t\t\tif out:\r\n\t\t\t\t\trospy.loginfo(\"Took-off\")\r\n\t\t\t\telse:\r\n\t\t\t\t\trospy.loginfo(\"Failed taking-off\")\r\n\t\r\n\t\t\twhile self.gps.altitude< current_altitude+altitude-0.1:\r\n\t\t\t\tr.sleep()\r\n\t\t\t\tdiffer = self.gps.altitude - current_altitude\r\n\t\t\t\trospy.loginfo(\"Waiting to take off, current height %s\", differ)\r\n\t\r\n\t\t\t# Position\r\n\t\t\tprint(self.current_pose.pose.position.x)\r\n\t\t\tself.goal_pose.header.frame_id = \"8\"\r\n\t\t\tself.goal_pose.header.seq = 1\r\n\t\t\tself.goal_pose.pose.position.x = self.current_pose.pose.position.x + 5\r\n\t\t\tself.goal_pose.pose.position.y = self.current_pose.pose.position.y + 5\r\n\t\t\tself.goal_pose.pose.position.z = 3 \r\n\t\t\tlocal_position_pub.publish(self.goal_pose)\r\n\t\t\trospy.loginfo(self.goal_pose)\r\n\t   \r\n\t\t\ttime.sleep(2)\r\n\t\t\t# Landing\r\n\t\t\tprint \"\\nLanding\"\r\n\t\t\trospy.wait_for_service('/mavros/cmd/land')\r\n\t\t\ttry:\r\n\t\t\t\tlanding_cl = rospy.ServiceProxy('/mavros/cmd/land', CommandTOL)\r\n\t\t\t\tresponse = landing_cl(altitude=alt_set, latitude=0, longitude=0, min_pitch=0, yaw=0)\r\n\t\t\t\trospy.loginfo(response)\r\n\t\t\texcept rospy.ServiceException as e:\r\n\t\t\t\tprint(\"Landing failed: %s\" %e)\r\n\t\t\t\trospy.signal_shutdown(True)\r\n\t\t\t\trospy.loginfo(\"\\n Pilot Takeover!\")\r\n\tif __name__ == '__main__':\r\n\t\tmy_operation = Operation()\r\n\t\tmy_operation.start_operation()\r\n\t\r\n\r\n### MAVROS version and platform\r\n\r\nMavros: ?0.18.4?\r\nVersion of Mavros was built into an image for the Navio2 Flight Controller. I believe this is the version of Mavros we are using: https://docs.emlid.com/navio2/common/ardupilot/configuring-raspberry-pi/. \r\nROS: Kinetic\r\nRaspbian: GNU/Linux 9\r\n\r\n### Autopilot type and version\r\n\r\n[ X ] ArduPilot\r\n[  ] PX4\r\n\r\nVersion: 3.5\r\n\r\n\r\n### Node logs\r\n\r\n```\r\nrosrun mavros mavros_node _fcu_url:=udp://:14650@ _gcs_url:=udp://:14551@192.168.1.90:14550\r\n[ INFO] [1548171941.196073151]: FCU URL: udp://:14650@\r\n[ INFO] [1548171941.207366747]: udp0: Bind address: 0.0.0.0:14650\r\n[ INFO] [1548171941.208232051]: GCS URL: udp://:14551@192.168.1.90:14550\r\n[ INFO] [1548171941.208940691]: udp1: Bind address: 0.0.0.0:14551\r\n[ INFO] [1548171941.209511987]: udp1: Remote address: 192.168.1.90:14550\r\n[ INFO] [1548171941.380572463]: Plugin 3dr_radio loaded\r\n[ INFO] [1548171941.389768786]: Plugin 3dr_radio initialized\r\n[ INFO] [1548171941.390560185]: Plugin actuator_control loaded\r\n[ INFO] [1548171941.417157026]: Plugin actuator_control initialized\r\n[ INFO] [1548171941.418110559]: Plugin altitude loaded\r\n[ INFO] [1548171941.426639127]: Plugin altitude initialized\r\n[ INFO] [1548171941.427587192]: Plugin command loaded\r\n[ INFO] [1548171941.464382795]: Plugin command initialized\r\n[ INFO] [1548171941.465236745]: Plugin ftp loaded\r\n[ INFO] [1548171941.498379360]: udp0: Remote address: 127.0.0.1:48247\r\n[ INFO] [1548171941.522233466]: Plugin ftp initialized\r\n[ INFO] [1548171941.523215749]: Plugin global_position loaded\r\n[ INFO] [1548171941.635482280]: Plugin global_position initialized\r\n[ INFO] [1548171941.636533677]: Plugin hil loaded\r\n[ INFO] [1548171941.755061662]: Plugin hil initialized\r\n[ INFO] [1548171941.756035038]: Plugin home_position loaded\r\n[ INFO] [1548171941.788141152]: Plugin home_position initialized\r\n[ INFO] [1548171941.789200049]: Plugin imu loaded\r\n[ INFO] [1548171941.840590415]: Plugin imu initialized\r\n[ INFO] [1548171941.841528115]: Plugin local_position loaded\r\n[ INFO] [1548171941.873298034]: Plugin local_position initialized\r\n[ INFO] [1548171941.874234224]: Plugin manual_control loaded\r\n[ INFO] [1548171941.901421997]: Plugin manual_control initialized\r\n[ INFO] [1548171941.902161522]: Plugin param loaded\r\n[ INFO] [1548171941.922325609]: Plugin param initialized\r\n[ INFO] [1548171941.923155081]: Plugin rc_io loaded\r\n[ INFO] [1548171941.954899636]: Plugin rc_io initialized\r\n[ INFO] [1548171941.955912648]: Plugin safety_area loaded\r\n[ INFO] [1548171941.991687739]: Plugin safety_area initialized\r\n[ INFO] [1548171941.992652730]: Plugin setpoint_accel loaded\r\n[ INFO] [1548171942.019251343]: Plugin setpoint_accel initialized\r\n[ INFO] [1548171942.020367583]: Plugin setpoint_attitude loaded\r\n[ INFO] [1548171942.089494976]: Plugin setpoint_attitude initialized\r\n[ INFO] [1548171942.090385020]: Plugin setpoint_position loaded\r\n[ INFO] [1548171942.200324127]: Plugin setpoint_position initialized\r\n[ INFO] [1548171942.201273858]: Plugin setpoint_raw loaded\r\n[ INFO] [1548171942.281097821]: Plugin setpoint_raw initialized\r\n[ INFO] [1548171942.282215935]: Plugin setpoint_velocity loaded\r\n[ INFO] [1548171942.333599532]: Plugin setpoint_velocity initialized\r\n[ INFO] [1548171942.334883791]: Plugin sys_status loaded\r\n[ INFO] [1548171942.399843149]: Plugin sys_status initialized\r\n[ INFO] [1548171942.400893140]: Plugin sys_time loaded\r\n[ INFO] [1548171942.445807159]: TM: Timesync mode: MAVLINK\r\n[ INFO] [1548171942.455653059]: Plugin sys_time initialized\r\n[ INFO] [1548171942.456755914]: Plugin vfr_hud loaded\r\n[ INFO] [1548171942.462444925]: Plugin vfr_hud initialized\r\n[ INFO] [1548171942.463514759]: Plugin waypoint loaded\r\n[ INFO] [1548171942.495122024]: Plugin waypoint initialized\r\n[ INFO] [1548171942.496142223]: Plugin wind_estimation loaded\r\n[ INFO] [1548171942.501561861]: Plugin wind_estimation initialized\r\n[ INFO] [1548171942.502018732]: Built-in SIMD instructions: None\r\n[ INFO] [1548171942.502790079]: Built-in MAVLink package version: 2018.8.8\r\n[ INFO] [1548171942.503215388]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta\r\n[ INFO] [1548171942.503826164]: MAVROS started. MY ID 1.240, TARGET ID 1.1\r\n[ INFO] [1548171943.498421782]: CON: Got HEARTBEAT, connected. FCU: ArduPilotMega / ArduCopter\r\n[ INFO] [1548171944.518478698]: VER: 1.1: Capabilities         0x0000000000001bcf\r\n[ INFO] [1548171944.518661092]: VER: 1.1: Flight software:     030505ff (88a1ecdd)\r\n[ INFO] [1548171944.518815883]: VER: 1.1: Middleware software: 00000000 (        )\r\n[ INFO] [1548171944.519121088]: VER: 1.1: OS software:         00000000 (        )\r\n[ INFO] [1548171944.519234941]: VER: 1.1: Board hardware:      00000000\r\n[ INFO] [1548171944.519333847]: VER: 1.1: VID/PID:             0000:0000\r\n[ INFO] [1548171944.519432231]: VER: 1.1: UID:                 0000000000000000\r\n[ WARN] [1548171944.519705770]: CMD: Unexpected command 520, result 0\r\n[ INFO] [1548171953.499576030]: HP: requesting home position\r\n[ INFO] [1548171953.518419457]: FCU: APM:Copter V3.5.5 (88a1ecdd)\r\n[ INFO] [1548171953.519103044]: FCU: Frame: QUAD\r\n[ INFO] [1548171954.278975265]: PR: parameters list received\r\n[ INFO] [1548171958.538548998]: WP: item #0  F:0 C: 16 p: 0.000000 0.000000 0.000000 0.000000 x: 0.000000 y: 0.000000 z: 0.000000\r\n[ INFO] [1548171958.539139201]: WP: mission received\r\n[ INFO] [1548171963.499519872]: HP: requesting home position\r\n```\r\n\r\n### Diagnostics\r\n\r\n```\r\nheader:\r\n  seq: 32\r\n  stamp:\r\n    secs: 1548171961\r\n    nsecs:   5035463\r\n  frame_id: ''\r\nstatus:\r\n  -\r\n    level: 0\r\n    name: \"mavros: FCU connection\"\r\n    message: \"connected\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values:\r\n      -\r\n        key: \"Received packets:\"\r\n        value: \"792\"\r\n      -\r\n        key: \"Dropped packets:\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Buffer overruns:\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Parse errors:\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Rx sequence number:\"\r\n        value: \"104\"\r\n      -\r\n        key: \"Tx sequence number:\"\r\n        value: \"6\"\r\n      -\r\n        key: \"Rx total bytes:\"\r\n        value: \"25850\"\r\n      -\r\n        key: \"Tx total bytes:\"\r\n        value: \"144\"\r\n      -\r\n        key: \"Rx speed:\"\r\n        value: \"83.000000\"\r\n      -\r\n        key: \"Tx speed:\"\r\n        value: \"0.000000\"\r\n  -\r\n    level: 2\r\n    name: \"mavros: GPS\"\r\n    message: \"No satellites\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values:\r\n      -\r\n        key: \"Satellites visible\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Fix type\"\r\n        value: \"0\"\r\n      -\r\n        key: \"EPH (m)\"\r\n        value: \"Unknown\"\r\n      -\r\n        key: \"EPV (m)\"\r\n        value: \"Unknown\"\r\n  -\r\n    level: 0\r\n    name: \"mavros: Heartbeat\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values:\r\n      -\r\n        key: \"Heartbeats since startup\"\r\n        value: \"18\"\r\n      -\r\n        key: \"Frequency (Hz)\"\r\n        value: \"1.000005\"\r\n      -\r\n        key: \"Vehicle type\"\r\n        value: \"Quadrotor\"\r\n      -\r\n        key: \"Autopilot type\"\r\n        value: \"ArduPilotMega / ArduCopter\"\r\n      -\r\n        key: \"Mode\"\r\n        value: \"STABILIZE\"\r\n      -\r\n        key: \"System status\"\r\n        value: \"Critical\"\r\n  -\r\n    level: 0\r\n    name: \"mavros: System\"\r\n    message: \"Normal\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values:\r\n      -\r\n        key: \"Sensor present\"\r\n        value: \"0x00000000\"\r\n      -\r\n        key: \"Sensor enabled\"\r\n        value: \"0x00000000\"\r\n      -\r\n        key: \"Sensor helth\"\r\n        value: \"0x00000000\"\r\n      -\r\n        key: \"CPU Load (%)\"\r\n        value: \"0.0\"\r\n      -\r\n        key: \"Drop rate (%)\"\r\n        value: \"0.0\"\r\n      -\r\n        key: \"Errors comm\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Errors count #1\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Errors count #2\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Errors count #3\"\r\n        value: \"0\"\r\n      -\r\n        key: \"Errors count #4\"\r\n        value: \"0\"\r\n  -\r\n    level: 2\r\n    name: \"mavros: Battery\"\r\n    message: \"No data\"\r\n    hardware_id: \"udp://:14650@\"\r\n    values:\r\n      -\r\n        key: \"Voltage\"\r\n        value: \"-1.00\"\r\n      -\r\n        key: \"Current\"\r\n        value: \"0.0\"\r\n      -\r\n        key: \"Remaining\"\r\n        value: \"0.0\"\r\n```\r\n\r\n### Check ID\r\n\r\n```\r\nWARNING: mavros/target_system_id not set. Used default value: 1\r\nWARNING: mavros/target_component_id not set. Used default value: 1\r\nNOTE: Target parameters may be unset, but that may be result of incorrect --mavros-ns option.Double check results!\r\nOK. I got messages from 1:1.\r\n\r\n---\r\nReceived 16 messages, from 1 addresses\r\nsys:comp   list of messages\r\n  1:1     0, 77```\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels: []
- url: 'https://github.com/mavlink/mavros/issues/1151'
  title: '!!!Bug: print PX4 version error!!!'
  body: "This is only bug and feature tracker, please use it\r\nto report bugs or request features.\r\n\r\n----\r\n\r\n### Issue details\r\nWhen the mavros library printed the PX4 version, I found  that the result was wrong.\r\n\r\nI found this bug by investigating the source code:\r\n\r\n[https://github.com/mavlink/mavros/blob/master/mavros/src/plugins/sys_status.cpp#L583](url)\r\n\r\nError passing parameter in this place. I think the correct way to pass parameters is as follows:\r\n`return utils::format(\"%016llX\", b);`\r\n"
  repo: 'https://api.github.com/repos/mavlink/mavros'
  labels:
    - PX4
    - bug
