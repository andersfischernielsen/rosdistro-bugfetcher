- url: 'https://github.com/ros-controls/ros_controllers/issues/398'
  title: four_wheel_steering_controller depends on urdf_geometry_parser
  body: >-
    `four_wheel_steering_controller` depends on `urdf_geometry_parser`, but I
    can't find this package. Maybe there is a more suitable package to parse
    _urdf_ file?
  repo: 'https://api.github.com/repos/ros-controls/ros_controllers'
  labels: []
- url: 'https://github.com/ros-controls/ros_controllers/issues/365'
  title: JointPositionController oscillation
  body: "I've been trying to get a simulation of the Kuka KR6 Agilus running in Gazebo, and while almost there, there is one problem that remains.\r\n\r\nI'm running Gazebo 9 with ROS Melodic. \r\n\r\nEach joint is controlled by a JointPositionController, and all but one joint behaves sufficiently. I won't paste configurations here, but the repository is available on Github: https://github.com/skrede/kuka_gazebo\r\n\r\nThe joint in question is joint_a4, and the problem is that the joint has a given setpoint but somehow the controller seems confused as to how to get there. If I echo the following topic (of message type control_msgs/JointControllerState)\r\n\r\n> rostopic echo /joint_a4_position_controller/state\r\n\r\nto terminal, I can see that the setpoint is specified, but the command and error fields seem to perturb violently, as shown in the following printout of the topic. \r\n\r\n    ---\r\n    header: \r\n      seq: 74830\r\n      stamp: \r\n        secs: 748\r\n        nsecs: 825000000\r\n      frame_id: ''\r\n    set_point: -1.69285065965e-08\r\n    process_value: -3.05827630699\r\n    process_value_dot: 1.96346264844\r\n    error: 3.05827629006\r\n    time_step: 0.001\r\n    command: 1175.71498185\r\n    p: 500.0\r\n    i: 5.0\r\n    d: 180.0\r\n    i_clamp: 0.0\r\n    antiwindup: False\r\n    ---\r\n    header: \r\n      seq: 74831\r\n      stamp: \r\n        secs: 748\r\n        nsecs: 835000000\r\n      frame_id: ''\r\n    set_point: -1.69285065965e-08\r\n    process_value: -3.03920837904\r\n    process_value_dot: 1.76346476062\r\n    error: -3.24397694507\r\n    time_step: 0.001\r\n    command: -1939.41204719\r\n    p: 500.0\r\n    i: 5.0\r\n    d: 180.0\r\n    i_clamp: 0.0\r\n    antiwindup: False\r\n\r\nThis might not be the correct place to raise the issue, but I'm not sure where the problem lies. I suppose it could be the URDF or some other configuration that confuse the controller, but it seemed to work just fine using `position_controllers/JointTrajectoryController`. This problem occured after using JointPositionController. \r\nI started looking at the urdf configurations, but I'm not even sure what to look for. I also tried to adjust PID gains, but that didn't help either. \r\n\r\nA video of the problem is available here: https://youtu.be/PqQh9spXjgM\r\n\r\nThe package is somewhat easy to get running, given dependencies are already installed. I haven't listed them in the repository, but the package.xml should state dependencies.\r\n\r\nWhen running Gazebo, the joint starts to perturb right away. This can be seen visually or by echoing the abovementioned topic to terminal. The setpoint does not change, i.e., nothing is sent via the topic  \r\n\r\n> /joint_a4_position_controller/command\r\n\r\nWith that I mean the command-field listed in the terminal dump above is not sent to the controller.\r\n\r\nI've made a thread on both [answers.ros.org](https://answers.ros.org/question/306022/joint-position-pertubation-using-effort_controllersjointpositioncontroller/) and [answers.gazebosim.org](http://answers.gazebosim.org/question/20742/joint-position-pertubation-using-effort_controllersjointpositioncontroller/), but there's no response. I hope it's appropriate to make an issue here as well.\r\n"
  repo: 'https://api.github.com/repos/ros-controls/ros_controllers'
  labels: []
- url: 'https://github.com/ros-controls/ros_controllers/issues/352'
  title: Building against the latest version of actionlib in Melodic fails
  body: "This is mostly a place to work with @bmagyar about the current problems between actionlib, ros_controllers, and realtime_tools.\r\n\r\n## Background\r\nIn the leadup to Melodic, we ended up adding additional typedefs to actionlib to support ros_controllers: https://github.com/ros/actionlib/commit/506541aa5f0d23079f13f29cc8afa8f3e68fa7f0 .  However, it turned out that that caused build problems, so we quickly reverted that.  As it stands today, the versions in melodic of the packages involved here are:\r\n\r\n* actionlib version 1.11.13-0 in melodic (one behind the latest release available on the indigo-devel branch)\r\n* ros_controllers version 0.14.0-0 (the latest released on melodic-devel, but not the latest code)\r\n* realtime_tools version 0.11.0-0 (one behind the latest release available on the melodic-devel branch)\r\n\r\n## Current status\r\nTo try and move forward with this, I made a workspace containing actionlib, ros_controllers, and realtime_tools, and put them all on the latest code (indigo-devel for actionlib, melodic-devel for ros_controllers and realtime_tools).  When trying to build this workspace, I see the following error:\r\n\r\n```\r\n==> make -j1 in '/home/ubuntu/ros_ws/build_isolated/gripper_action_controller'\r\n[  0%] Built target gripper_action_controller_xacro_generated_to_devel_space_\r\nScanning dependencies of target gripper_action_controller\r\n[ 50%] Building CXX object CMakeFiles/gripper_action_controller.dir/src/gripper_action_controller.cpp.o\r\nIn file included from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/include/gripper_action_controller/gripper_action_controller.h:56:0,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/src/gripper_action_controller.cpp:34:\r\n/home/ubuntu/ros_ws/install_isolated/include/realtime_tools/realtime_server_goal_handle.h:50:35: error: redeclaration of ‘typedef class std::shared_ptr<typename Action::_action_result_type::_result_type> realtime_tools::RealtimeServerGoalHandle<Action>::ResultPtr’\r\n   typedef std::shared_ptr<Result> ResultPtr;\r\n                                   ^~~~~~~~~\r\nIn file included from /home/ubuntu/ros_ws/install_isolated/include/actionlib/server/action_server.h:49:0,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/include/gripper_action_controller/gripper_action_controller.h:53,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/src/gripper_action_controller.cpp:34:\r\n/home/ubuntu/ros_ws/install_isolated/include/actionlib/action_definition.h:58:37: note: previous declaration ‘typedef class boost::shared_ptr<typename ActionSpec::_action_result_type::_result_type> realtime_tools::RealtimeServerGoalHandle<Action>::ResultPtr’\r\n   typedef boost::shared_ptr<Result> ResultPtr; \\\r\n                                     ^\r\n/home/ubuntu/ros_ws/install_isolated/include/actionlib/action_definition.h:58:37: note: in definition of macro ‘ACTION_DEFINITION’\r\n   typedef boost::shared_ptr<Result> ResultPtr; \\\r\n                                     ^~~~~~~~~\r\nIn file included from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/include/gripper_action_controller/gripper_action_controller.h:56:0,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/src/gripper_action_controller.cpp:34:\r\n/home/ubuntu/ros_ws/install_isolated/include/realtime_tools/realtime_server_goal_handle.h:51:37: error: redeclaration of ‘typedef class std::shared_ptr<typename Action::_action_feedback_type::_feedback_type> realtime_tools::RealtimeServerGoalHandle<Action>::FeedbackPtr’\r\n   typedef std::shared_ptr<Feedback> FeedbackPtr;\r\n                                     ^~~~~~~~~~~\r\nIn file included from /home/ubuntu/ros_ws/install_isolated/include/actionlib/server/action_server.h:49:0,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/include/gripper_action_controller/gripper_action_controller.h:53,\r\n                 from /home/ubuntu/ros_ws/src/ros_controllers/gripper_action_controller/src/gripper_action_controller.cpp:34:\r\n/home/ubuntu/ros_ws/install_isolated/include/actionlib/action_definition.h:63:39: note: previous declaration ‘typedef class boost::shared_ptr<typename ActionSpec::_action_feedback_type::_feedback_type> realtime_tools::RealtimeServerGoalHandle<Action>::FeedbackPtr’\r\n   typedef boost::shared_ptr<Feedback> FeedbackPtr;\r\n                                       ^\r\n/home/ubuntu/ros_ws/install_isolated/include/actionlib/action_definition.h:63:39: note: in definition of macro ‘ACTION_DEFINITION’\r\n   typedef boost::shared_ptr<Feedback> FeedbackPtr;\r\n                                       ^~~~~~~~~~~\r\nCMakeFiles/gripper_action_controller.dir/build.make:62: recipe for target 'CMakeFiles/gripper_action_controller.dir/src/gripper_action_controller.cpp.o' failed\r\nmake[2]: *** [CMakeFiles/gripper_action_controller.dir/src/gripper_action_controller.cpp.o] Error 1\r\nCMakeFiles/Makefile2:1576: recipe for target 'CMakeFiles/gripper_action_controller.dir/all' failed\r\nmake[1]: *** [CMakeFiles/gripper_action_controller.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n<== Failed to process package 'gripper_action_controller': \r\n  Command '['/home/ubuntu/ros_ws/install_isolated/env.sh', 'make', '-j1']' returned non-zero exit status 2\r\n```\r\n\r\nI don't currently have time to look into this, but I think we should get it fixed.  @bmagyar , do you happen to have some time to look at this and try to resolve it?  Thanks."
  repo: 'https://api.github.com/repos/ros-controls/ros_controllers'
  labels: []
- url: 'https://github.com/ros-controls/ros_controllers/issues/331'
  title: Release into Melodic
  body: >-
    It looks like all of the dependencies for this package are available in
    Melodic, so it would be great to get it released there.  Thanks in advance.
  repo: 'https://api.github.com/repos/ros-controls/ros_controllers'
  labels: []
